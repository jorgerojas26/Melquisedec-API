(this.webpackJsonpmelquisedec=this.webpackJsonpmelquisedec||[]).push([[0],{476:function(e,n,t){},477:function(e,n,t){"use strict";t.r(n);var r,a,c,o,i,s,u,l,d,j,b=t(0),p=t.n(b),h=t(47),f=t.n(h),x=t(88),O=t(38),m=t(5),v=t(6),g="500px",w="768px",y="1024px",S="1440px",C="1920px",k="#0A704F",E="#6F9C81",P="rgba(111,156,129, 0.2)",R="#FA7612",D="#AAB8C2",N="#E1E8ED",T="#F5F8FA",_="#999",z="#100C08",H="#211717",I="rgb(101 119 134 / 20%)",F="#A25708",M=v.a.div(r||(r=Object(m.a)(["\n    justify-content: center;\n    align-items: center;\n    width: 100vw;\n    height: 100vh;\n    background: ",";\n"])),H),V=v.a.div(a||(a=Object(m.a)(["\n    width: 80%;\n    height: 50%;\n    border-radius: 4px;\n\n    @media (min-width: ",") {\n        width: 500px;\n        height: 450px;\n    }\n\n    @media (min-width: ",") {\n        width: 600px;\n        height: 500px;\n    }\n"])),g,y),q=v.a.div(c||(c=Object(m.a)(["\n    justify-content: center;\n    align-items: center;\n\n    width: 100%;\n    height: 100%;\n"]))),A=v.a.div(o||(o=Object(m.a)(["\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    padding: 30px;\n"]))),L=v.a.div(i||(i=Object(m.a)(["\n    width: 100%;\n    border: 2px solid white;\n    padding: 30px;\n"]))),B=v.a.header(s||(s=Object(m.a)(["\n    max-height: 200px;\n    max-width: 100%;\n    margin-bottom: 20px;\n"]))),U=v.a.div(u||(u=Object(m.a)(["\n    max-height: 100%;\n\n    > svg {\n        :hover {\n            fill: ",";\n        }\n    }\n"])),R),Y=v.a.div(l||(l=Object(m.a)([""]))),$=v.a.div(d||(d=Object(m.a)(["\n    align-items: center;\n    width: 100%;\n    margin-bottom: 10px;\n\n    > small {\n        margin-top: 5px;\n        font-size: 14px;\n    }\n\n    label {\n        width: 100%;\n    }\n"]))),G=v.a.div(j||(j=Object(m.a)(["\n    height: 50px;\n    background: ",";\n    > button {\n        color: white;\n        font-weight: 700;\n\n        :hover {\n            background: ",";\n        }\n    }\n"])),k,R),J=t(8),K=t(1);var W,X,Q,Z,ee,ne,te,re,ae,ce,oe,ie,se,ue,le,de,je,be,pe,he,fe,xe,Oe,me,ve,ge,we,ye,Se,Ce,ke,Ee,Pe,Re,De,Ne,Te,_e,ze,He,Ie,Fe,Me,Ve,qe,Ae,Le,Be,Ue,Ye,$e,Ge,Je,Ke=function(e){return Object(K.jsxs)("svg",Object(J.a)(Object(J.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 333 115"},e),{},{children:[Object(K.jsx)("path",{d:"M287 21.4c0 21.5-.4 24.2-3.5 21.6-1-.8-1.9-.8-3.4-.1-2.6 1.4-6.7 1.4-9.4 0-4.1-2.1-5.7-5.1-5.7-10.7 0-4.6.4-5.8 2.9-8.3 2.4-2.4 3.8-2.9 7.5-2.9h4.6V3H3v106h116V90.5h-5.4c-6.4 0-9-1.9-10.8-7.7-.8-2.9-.8-4.7 0-7.6 1.8-5.8 4.4-7.7 10.5-7.5 2.9.1 6.7.2 8.5.2l3.2.1v44l-62.7.3c-34.6.1 12.3.2 104.2.2s121.2-.1 65.2-.2c-80.8-.3-101.8-.6-101.4-1.6.3-.9 21.7-1.3 100.5-1.5L331 109V3h-19.5C294.8 3 292 2.8 292 1.5c0-.9-.9-1.5-2.5-1.5H287v21.4zM36.4 13.3c2.4 1.7 1.3 6-1.2 5.3-5.2-1.5-6.9-1.6-8.7-.3-2.5 1.9-1.3 3.5 6.5 8.2 6 3.6 7 5 7 9C40 41 36.1 44 29.1 44c-6 0-9.1-1.5-9.1-4.4 0-2.3.2-2.4 6.7-2.3 9.2.3 9.6-1.7 1.4-6.8-3.4-2-6.8-4.6-7.6-5.8-2.2-3.2-1.9-7.4 1-10.2 1.9-2 3.4-2.5 7.8-2.5 2.9 0 6.1.6 7.1 1.3zm118.8 8.1c2.3 1.2 3.3 1.2 6.7 0 4.7-1.6 8.4-.7 10.1 2.6.6 1.1 1 5.7.8 10.8-.3 8.7-.3 8.7-3 9l-2.8.3v-7.8c0-9.5-.8-11.1-4.7-9.7-2.7.9-2.8 1.2-3.1 9.2l-.3 8.2H153v-7.8c0-9.4-.8-11-4.7-9.6-2.7.9-2.8 1.2-3.1 9.2l-.3 8.2H139V32.5c0-10.7.1-11.5 1.9-11.5 1.1 0 2.1.4 2.3 1 .2.6 1.9.4 4.3-.5 5-1.8 4.5-1.8 7.7-.1zM50.4 22.6c.3.9.6 4.7.6 8.5 0 7.7 1.2 9.2 5.6 6.9 2.2-1.2 2.4-1.9 2.4-9.2V21h6v11.5c0 11.7-.7 13.4-3.8 10.3-.9-.9-1.8-.9-3.7 0-4 1.8-8.9 1.5-11-.8-1.3-1.5-2-4.2-2.3-10-.2-4.3-.2-8.6.1-9.5.8-2 5.3-2 6.1.1zm38.7 1.3c2.5 2.5 2.9 3.7 2.9 8.5 0 7.6-2.6 10.7-9.8 11.4l-5.2.5v4.3c0 4.2-.1 4.4-3 4.4h-3V37.7c0-8.5.2-15.6.5-15.9.3-.2 3.7-.5 7.6-.6 6.6-.2 7.2 0 10 2.7zm23.1-1.8c2.1 1.1 4.8 6.6 4.8 9.9 0 1.8-.6 2-7 2-5.6 0-7 .3-7 1.5 0 2.4 4.8 3.8 8.4 2.5 2.6-.9 3.3-.8 4.4.7 1.9 2.7-1.8 5.3-7.5 5.3-8.4 0-12.2-3.7-12.3-11.8 0-4.6.4-5.8 2.9-8.3 2.3-2.3 3.8-2.9 7.1-2.9 2.3 0 5 .5 6.2 1.1zm13.7.6c.9 1.7 1.1 1.7 4 0 3.5-2.1 5.1-1.6 5.1 1.6 0 1.5-1.1 2.7-3.3 3.7-3.1 1.4-3.2 1.8-3.7 8.5-.5 6.4-.7 7-2.9 7.3-1.3.2-2.8-.2-3.2-1-1-1.5-1.2-20.2-.2-21.1 1.2-1.2 3.2-.7 4.2 1zm69.5.9c1.9 2 2.6 3.7 2.6 6.5V34h-7.1c-5.2 0-7 .3-6.7 1.2.8 2.4 5.2 3.8 8.8 2.8 3.5-1 4.9-.2 5 2.7 0 3.7-13.1 4.4-16.9.8-4.9-4.3-5.1-13.3-.4-17.9 3.7-3.7 10.9-3.7 14.7 0zm11.8-.7c1.1 1.8 1.2 1.8 4.5-.2 3.7-2.1 3.8-2.1 4.7.9.5 1.8 0 2.5-3.1 4.1l-3.8 2-.3 7.2c-.3 7.2-.3 7.2-3 6.9l-2.7-.3-.3-11.3c-.2-9.5 0-11.2 1.3-11.2.8 0 2 .8 2.7 1.9zm29.9-.9c1.6.9 1.7 1.5.8 3.1-.9 1.7-1.7 1.9-4.8 1.4-2.9-.5-4.1-.2-5.5 1.4-4.1 4.6-.5 11.8 5.3 10.5 1.4-.4 3-.7 3.4-.8.5 0 1.3.9 1.8 2.2.7 1.9.5 2.4-1.7 3.2-5.1 2-10.3 1.2-13.4-1.9-7.9-7.8-3.2-20.1 7.6-20.1 2.5 0 5.4.5 6.5 1zm20.3 1.1c2.5 1.9 2.6 2.5 2.6 11.5 0 9.5-.8 11.2-3.8 8.2-.9-.9-1.5-.9-2.4 0-1.8 1.8-7.3 1.5-9.7-.6-2.8-2.2-3.1-7.5-.6-10.2.9-1 3.7-2.2 6.1-2.6 5.7-.8 4.6-2.8-1.2-2.1-3.9.4-4.3.2-4.9-2.1-.8-3.2.7-4.2 6.6-4.2 3.2 0 5.5.6 7.3 2.1zm52.5-.7c3.4 1.8 5.1 5.4 5.1 10.7 0 3.3-.7 4.8-3.4 7.5-2.8 2.8-4.1 3.4-7.7 3.4-2.6 0-5.7-.8-7.6-2-6.3-3.8-6.6-14.2-.6-19 3.1-2.4 10.1-2.7 14.2-.6zM93.8 73.8L94 90h-7V74.1c0-14.4.2-16 1.8-16.4 4.6-1.3 4.7-1.1 5 16.1zm163.2-.3V90h-3.2c-1.8 0-5.1.2-7.3.5-8.3 1.2-14.3-6.6-11.7-15.3 1.8-5.8 4.4-7.7 10.8-7.7h5.4v-4.7c0-3.6.4-4.8 1.8-5.1 4.3-1.1 4.2-1.4 4.2 15.8zM22.6 58.8c.7.4 3.3 3.5 5.8 6.9 2.5 3.5 4.8 6.3 5.1 6.3.3 0 2.6-3.2 5.2-7 7-10.7 7.7-9.9 8.1 9.3l.3 15.7H41v-8c0-4.4-.3-8-.7-8-.5 0-1.8 1.6-3.1 3.5-1.2 1.9-2.8 3.5-3.5 3.5-.8 0-2.9-2.1-4.8-4.8l-3.4-4.7-.3 9.2-.3 9.3H19V74c0-16.2.3-17.4 3.6-15.2zm150 1.4c.7 2.2-1.9 5.2-4 4.5-1.7-.6-2.9-3.4-2.3-5.1 1-2.4 5.4-2.1 6.3.6zM74.3 69c2.8 2.2 5.2 8.2 4.3 10.5-.4 1.1-2.3 1.5-7.6 1.5-3.8 0-7 .4-7 .9 0 2.1 3.2 3.3 8.2 2.9 4.8-.3 5.3-.1 5.6 1.8.4 2.9-4.4 4.8-10.4 4.1-6.8-.7-10.8-5-10.8-11.5 0-7.6 4.3-12.1 11.5-12.2 2.2 0 4.7.8 6.2 2zm120.2-1c4.3 1.6 2.9 4.5-2.2 4.5-2.4 0-4.3.4-4.4 1-.1.5 2.1 2.1 4.7 3.5 5.1 2.6 6.2 4.7 5 9.5-.8 3-5.6 4.9-10.7 4.2-4.8-.6-6.4-1.9-5.5-4.3.5-1.3 1.4-1.5 4.4-1.1 3.8.6 7.3-.6 5.9-2-.4-.4-2.9-1.9-5.5-3.3-4.8-2.5-5.8-4.4-4.8-8.4s7.5-5.7 13.1-3.6zm26.9 0c3 1.1 5.6 5.7 5.6 10v3h-7.5c-7.4 0-7.5 0-6.4 2.1 1 1.9 1.7 2.1 6.9 1.6 5.1-.4 5.9-.3 6.3 1.4.7 2.5-1.5 4.1-6.6 4.6-9.2 1.1-15.4-4.7-14.4-13.4.9-8.2 8.1-12.4 16.1-9.3zm61.5.6c2.5 1.8 5.1 7.1 5.1 10.4 0 1.8-.6 2-7.5 2-4.1 0-7.5.4-7.5.9 0 2.1 3.2 3.3 8.2 2.9 4.8-.3 5.3-.1 5.6 1.8.4 2.9-4.4 4.8-10.5 4.1-6.6-.7-10.3-4.9-10.3-11.5.1-5.4 1.7-8.9 5.1-10.8 3.3-1.8 9-1.7 11.8.2zm31.3.2c.7.7.6 1.6-.1 3-1 1.8-1.5 2-4.1 1-5.7-1.9-10.3 3.9-7.6 9.4 1 1.9 2 2.3 6 2.4 3.5.1 5.1.6 5.8 1.8 1.4 2.6-.3 3.8-5.9 4.3-8.8.8-14-4.6-13-13.5.5-4.4 2.7-7.8 6.2-9.3 2.5-1.1 11.3-.5 12.7.9zM141 75.9c0 9.3 1.2 11.1 6 9.1 3-1.2 3-1.3 3-9.1V68h6v22l-3.7-.1c-2.1-.1-5.9.2-8.4.6-4 .6-5 .4-6.8-1.4-1.8-1.8-2.1-3.3-2.1-11.6V68h6v7.9zm32 3.1v11h-7V68h7v11z"}),Object(K.jsx)("path",{d:"M78.2 27.2c-.7.7-1.2 3.1-1.2 5.5 0 3.3.5 4.5 2.1 5.3 3.2 1.8 6.9-1.1 6.9-5.4 0-5.1-4.8-8.4-7.8-5.4zM104 27.5c-1.8 2.1-.9 2.7 3.6 2.3 3.6-.3 3.7-.4 2-2.1-2.1-2.1-4-2.2-5.6-.2zM185.8 27.1c-3 1.7-2 2.9 2.2 2.9 4.1 0 4.9-.7 2.8-2.8-1.4-1.4-2.7-1.5-5-.1zM247.4 35.5c-.8 1.9.3 3.5 2.5 3.5 2 0 4.1-1.9 4.1-3.7 0-1.8-5.9-1.7-6.6.2zM299.7 27.8c-4.2 4.6.1 13 5.2 10.2 5.9-3.1 4.3-12-2.2-12-.8 0-2.1.8-3 1.8zM243 74c-3.6 3.6-2 11 2.5 11 4.7 0 5.5-.9 5.5-6.1 0-4.4-.3-5.1-2.6-5.9-3.3-1.3-3.1-1.3-5.4 1zM65.8 73.1C62.5 75 63.7 77 68 77c4.4 0 5.5-2.1 2.1-4-2.3-1.2-2.2-1.2-4.3.1zM214.2 73.6c-2.9 2-2 3.4 2.2 3.4s5-.9 2.9-3.2c-2-2.2-2.3-2.2-5.1-.2zM274.8 73.1c-3.3 1.9-2.1 3.9 2.2 3.9 4.4 0 5.5-2.1 2.1-4-2.3-1.2-2.2-1.2-4.3.1zM272.6 28.2c-3.7 5.3.3 12.5 5.5 9.8 2.5-1.4 2.8-10.4.3-11.4-2.8-1.1-4.2-.7-5.8 1.6zM111.2 73.6c-1.6 1.1-2.2 2.5-2.2 5.3 0 4.4 1.4 6.1 5 6.1 3.7 0 5-1.8 5-6.7 0-3.7-.4-4.5-2.6-5.3-3.1-1.2-2.5-1.3-5.2.6z"})]}))},We=t(41),Xe=v.a.label(W||(W=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    position: relative;\n\n    justify-content: flex-end;\n\n    border: 1px solid #999;\n    border-radius: 4px;\n    max-height: 100%;\n    padding: 20px 0 5px 0;\n\n    background: white;\n\n    :focus-within {\n        box-shadow: 0 0 0 2px ",";\n        border-color: transparent;\n        > label {\n            color: ",";\n        }\n    }\n\n    ","\n\n    ","\n"])),R,R,(function(e){return e.errorborder&&"\n        border: none;\n        box-shadow: 0 0 0 2px red;\n\n    "}),(function(e){if(e.file)return"\n            background: ".concat(I,";\n            cursor: pointer;\n            label {\n            font-size: 12px;\n            top: 2px;\n            left: 2px;\n            }\n            ")})),Qe=v.a.input(X||(X=Object(m.a)(["\n    margin: 0;\n    min-width: 0px;\n    min-height: 0px;\n\n    height: 100%;\n    width: 100%;\n    border: 0;\n    outline: 0;\n\n    font-size: 14px;\n    padding: 0 5px 0 5px;\n\n    ","\n"])),(function(e){return e.capitalize&&{textTransform:"capitalize"}})),Ze=v.a.label(Q||(Q=Object(m.a)(["\n    min-width: 0px;\n    min-height: 0px;\n\n    color: rgb(91, 112, 131);\n    position: absolute;\n    pointer-events: none;\n    top: 3px;\n    left: 5px;\n\n    font-size: 14px;\n    font-weight: 500;\n    transition: all 0.2s;\n"]))),en=(v.a.div(Z||(Z=Object(m.a)(["\n    position: absolute;\n    right: 3px;\n    color: red;\n"]))),["children","placeholder","file","value","active","capitalize","errorborder","onChange","disabled","as","innerRef"]),nn=function(e){e.children;var n=e.placeholder,t=e.file,r=e.value,a=(e.active,e.capitalize),c=e.errorborder,o=e.onChange,i=e.disabled,s=e.as,u=e.innerRef,l=Object(We.a)(e,en);return Object(K.jsxs)(Xe,{ref:u,file:t,errorborder:c,children:[Object(K.jsx)(Qe,Object(J.a)(Object(J.a)({onFocus:function(e){return e.target.select()},onChange:o,capitalize:a,value:r,disabled:i},l),{},{as:s})),Object(K.jsx)(Ze,{disabled:i,children:n})]})},tn=v.a.button(ee||(ee=Object(m.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex: 1;\n\n    cursor: pointer;\n    background: none;\n    border: none;\n\n    box-shadow: rgb(101 119 134 / 20%) 0px 0px 15px, rgb(101 119 134 / 15%) 0px 0px 3px 1px;\n\n    min-width: 0px;\n    min-height: 0px;\n    height: 100%;\n\n    :hover {\n        opacity: 0.8;\n    }\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    svg {\n        margin-right: 3px;\n    }\n\n    ","\n    ","\n\n    ","\n"])),(function(e){return e.background&&{background:e.background}}),(function(e){return e.color&&{color:e.color}}),(function(e){return e.disabled&&{background:"lightGrey",color:"black !important",cursor:"not-allowed"}})),rn=["children","disabled","loading"],an=function(e){var n=e.children,t=e.disabled,r=e.loading,a=Object(We.a)(e,rn);return Object(K.jsx)(tn,Object(J.a)(Object(J.a)({className:r?"button--loading":"",type:"button",disabled:t},a),{},{children:Object(K.jsx)("span",{className:"button_text",children:n})}))},cn=function(){return Object(K.jsx)(q,{children:Object(K.jsx)(A,{children:Object(K.jsxs)(L,{children:[Object(K.jsx)(B,{children:Object(K.jsx)(U,{children:Object(K.jsx)(Ke,{fill:k})})}),Object(K.jsx)(Y,{children:Object(K.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(K.jsx)($,{children:Object(K.jsx)(nn,{placeholder:"Usuario",autoFocus:!0})}),Object(K.jsx)($,{children:Object(K.jsx)(nn,{type:"password",placeholder:"Contrase\xf1a"})}),Object(K.jsx)(G,{children:Object(K.jsx)(an,{children:"Enviar"})})]})})]})})})},on=function(){return Object(K.jsx)(M,{children:Object(K.jsx)(V,{children:Object(K.jsx)(cn,{})})})},sn=(v.a.div(ne||(ne=Object(m.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 50px 1fr 50px;\n    height: 100vh;\n    width: 100vw;\n\n    background: pink;\n\n    @media (min-width: ",") {\n        grid-template-columns: minmax(70px, 240px) 1fr;\n    }\n"])),g),v.a.header(te||(te=Object(m.a)(["\n    position: sticky;\n    top: 0;\n    height: 50px;\n\n    background: ",";\n\n    z-index: 1;\n\n    @media (min-width: ",") {\n        display: flex;\n        height: 100vh;\n    }\n"])),k,g),v.a.main(re||(re=Object(m.a)(["\n    display: flex;\n    background: blue;\n\n    flex-direction: column-reverse;\n\n    background-image: url('../../assets/patterns/leaves-pattern.png');\n\n    @media (min-width: ",") {\n        flex-direction: column;\n    }\n"])),g),v.a.div(ae||(ae=Object(m.a)(["\n    justify-content: center;\n    align-items: center;\n\n    position: sticky;\n    bottom: 0;\n    height: 50px;\n\n    background: ",";\n    z-index: 1;\n\n    @media (min-width: ",") {\n        flex-direction: row;\n        border-bottom: 2px solid ",";\n        top: 0;\n        bottom: auto;\n    }\n\n    @media (min-width: ",") {\n        justify-content: space-between;\n    }\n"])),k,g,E,w),v.a.div(ce||(ce=Object(m.a)(["\n    display: none;\n    color: white;\n    margin-left: 10px;\n    justify-content: center;\n\n    @media (min-width: ",") {\n        display: block;\n    }\n"])),w)),un=v.a.div(oe||(oe=Object(m.a)(["\n    flex-direction: row;\n    margin-right: 15px;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n\n    span {\n        color: white;\n        font-size: 20px;\n        font-weight: 700;\n    }\n\n    h3 {\n        color: ",";\n        margin: 0;\n    }\n"])),z),ln=v.a.span(ie||(ie=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    font-size: 24px;\n    font-weight: 800;\n"]))),dn=(v.a.div(se||(se=Object(m.a)(["\n    @media (min-width: ",") {\n    }\n"])),g),v.a.div(ue||(ue=Object(m.a)(["\n    display: grid;\n    grid-template-rows: 50px 1fr;\n    width: 100%;\n    height: 100%;\n\n    @media (min-width: ",") {\n        grid-template-rows: 1fr;\n        grid-template-columns: 50px 1fr;\n    }\n\n    @media (min-width: ",") {\n        grid-template-columns: 240px 1fr;\n    }\n"])),g,y)),jn=v.a.header(le||(le=Object(m.a)([""]))),bn=(v.a.div(de||(de=Object(m.a)([""]))),v.a.div(je||(je=Object(m.a)(["\n    display: grid;\n    grid-template-rows: 1fr 50px;\n\n    @media (min-width: ",") {\n        grid-template-rows: 30px 1fr;\n    }\n\n    @media (min-width: ",") {\n        grid-template-rows: 50px 1fr;\n    }\n"])),g,C)),pn=v.a.div(be||(be=Object(m.a)(["\n    align-items: center;\n    justify-content: center;\n    background: ",";\n\n    border-top: 2px solid ",";\n\n    @media (min-width: ",") {\n        grid-row: 1;\n        border-bottom: 2px solid ",";\n        border-top: none;\n    }\n\n    @media (min-width: ",") {\n        flex-direction: row;\n        justify-content: space-between;\n    }\n"])),k,E,g,E,w),hn=v.a.main(pe||(pe=Object(m.a)(["\n    min-height: 100%;\n    overflow: auto;\n    background-image: url('../../assets/patterns/leaves-pattern.png');\n"]))),fn=v.a.div(he||(he=Object(m.a)(["\n    border-bottom: 2px solid ",";\n    height: 100%;\n    background: ",";\n\n    @media (min-width: ",") {\n        border-right: 2px solid ",";\n    }\n"])),E,k,g,E),xn=v.a.div(fe||(fe=Object(m.a)(["\n    align-items: center;\n"]))),On=v.a.div(xe||(xe=Object(m.a)(["\n    display: none;\n\n    @media (min-width: ",") {\n        display: flex;\n        align-items: flex-start;\n        margin-top: 10px;\n    }\n"])),y),mn=v.a.div(Oe||(Oe=Object(m.a)(["\n    width: 100%;\n\n    @media (min-width: ",") {\n        margin-top: 2px;\n        margin-bottom: 4px;\n        align-items: center;\n    }\n"])),g),vn=v.a.nav(me||(me=Object(m.a)(["\n    display: flex;\n    justify-content: center;\n\n    @media (min-width: ",") {\n        flex-direction: column;\n        align-items: center;\n        height: 100%;\n        max-height: 100%;\n    }\n\n    @media (min-width: ",") {\n        align-items: flex-start;\n    }\n"])),g,y),gn=Object(v.a)(x.b)(ve||(ve=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    width: 100%;\n\n    user-select: none;\n    pointer-events: auto;\n    outline-style: none;\n    text-decoration: none;\n    cursor: pointer;\n\n    justify-content: center;\n    align-items: center;\n\n    border-bottom: 2px solid rgba(0, 0, 0, 0);\n\n    cursor: pointer;\n    outline-style: none;\n\n    :hover {\n        background: ",";\n        color: white;\n    }\n\n    ","\n"])),P,(function(e){return e.hide&&"\n        @media (max-width: ".concat(g,"){\n        display: none;\n}\n    ")})),wn=v.a.div(ge||(ge=Object(m.a)(["\n    display: inline-block;\n\n    ","\n"])),(function(e){if(e.iconVariant)return"\n\n            > :nth-child(2){\n                display: none;\n            }\n\n            @media (min-width: 988px){\n                > :nth-child(1){\n                display: none;\n            }\n\n            > :nth-child(2){\n                display: flex;\n            }\n\n            }\n            "})),yn=v.a.div(we||(we=Object(m.a)(["\n    line-height: 23px;\n    font-size: 19px;\n    font-weight: 700;\n\n    min-width: 0px;\n    max-width: 100%;\n\n    overflow-wrap: break-word;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    color: white;\n\n    margin: 0 15px 0 19px;\n\n    display: none;\n\n    @media (min-width: ",") {\n        display: inline-block;\n    }\n\n    @media (max-height: ",") {\n        font-size: 16px;\n    }\n"])),y,w),Sn=v.a.span(ye||(ye=Object(m.a)(["\n    overflow-wrap: break-word;\n    min-width: 0px;\n"]))),Cn=v.a.div(Se||(Se=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    place-items: center;\n    place-content: center;\n    width: 100%;\n    transition-property: background-color, box-shadow;\n    transition-duration: 0.2s;\n\n    &.active {\n        > "," svg {\n            fill: ",";\n        }\n\n        > "," {\n            color: ",";\n        }\n    }\n\n    @media (min-width: ",") {\n        place-items: start;\n        place-content: start;\n        padding: 2px;\n    }\n\n    @media (min-width: ",") {\n        padding: 5px;\n    }\n\n    @media (min-width: ",") {\n        padding: 10px;\n    }\n"])),wn,R,yn,R,y,S,C),kn=t(515),En=t(516),Pn=t(517),Rn=t(518),Dn=t(519),Nn=t(520),Tn=t(521),_n=t(522),zn=t(523),Hn=t(524),In=t(525),Fn=t(526),Mn=t(527),Vn=["to","Icon","title","active","dissapearonmobile"],qn=function(e){var n=e.to,t=e.Icon,r=e.title,a=(e.active,e.dissapearonmobile),c=Object(We.a)(e,Vn),o=localStorage.getItem("activeLocation");return Object(K.jsx)(gn,Object(J.a)(Object(J.a)({to:n,onClick:function(){return e=n,void localStorage.setItem("activeLocation",e);var e},hide:a?1:0},c),{},{children:Object(K.jsxs)(Cn,{className:o===n?"active":"",children:[Object(K.jsx)(wn,{children:Object(K.jsx)(t,{size:"28px",weight:o===n?"fill":"regular",color:o===n?R:"white"})}),Object(K.jsx)(yn,{children:Object(K.jsx)(Sn,{children:r})})]})}))},An=function(){return Object(K.jsx)(fn,{children:Object(K.jsxs)(xn,{children:[Object(K.jsx)(On,{children:Object(K.jsx)(Ke,{height:"80px",fill:R})}),Object(K.jsx)(mn,{children:Object(K.jsxs)(vn,{children:[Object(K.jsx)(qn,{Icon:kn.a,title:"Control De Ventas",to:"/control-de-ventas"}),Object(K.jsx)(qn,{Icon:En.a,title:"Inventario",to:"/inventario"}),Object(K.jsx)(qn,{Icon:Pn.a,title:"Reportes",to:"/reportes"}),Object(K.jsx)(qn,{Icon:Rn.a,title:"Deudas",to:"/deudas"}),Object(K.jsx)(qn,{Icon:Dn.a,title:"Categorias",to:"/categorias",dissapearonmobile:!0}),Object(K.jsx)(qn,{Icon:Nn.a,title:"Clientes",to:"/clientes"}),Object(K.jsx)(qn,{Icon:Tn.a,title:"Productos",to:"/productos"}),Object(K.jsx)(qn,{Icon:_n.a,title:"Ventas",to:"/ventas",dissapearonmobile:!0}),Object(K.jsx)(qn,{Icon:zn.a,title:"Abastecimientos",to:"/abastecimientos",dissapearonmobile:!0}),Object(K.jsx)(qn,{Icon:Hn.a,title:"Proveedores",to:"/proveedores",dissapearonmobile:!0}),Object(K.jsx)(qn,{Icon:In.a,title:"Usuarios",to:"/usuarios",dissapearonmobile:!0}),Object(K.jsx)(qn,{Icon:Fn.a,title:"Tasas de cambio",to:"/tasas-de-cambio"}),Object(K.jsx)(qn,{Icon:Mn.a,title:"Dinero",to:"/dinero"})]})})]})})},Ln=v.a.div(Ce||(Ce=Object(m.a)(["\n    justify-content: center;\n\n    position: fixed;\n    top: 0;\n\n    height: 60px;\n    width: 100%;\n\n    box-shadow: rgba(101 119 134 / 20%) 0px 0px 15px, rgba(101 119 134 / 25%) 0px 0px 3px 1px;\n\n    font-size: 24px;\n    font-weight: 700;\n    text-align: center;\n    color: white;\n    z-index: 3;\n\n    ","\n\n    @media (min-width: ",") {\n        top: auto;\n        bottom: 0;\n        height: 50px;\n    }\n"])),(function(e){return"success"===e.type?{background:k}:"error"===e.type?{background:"red"}:void 0}),g),Bn=function(e){var n=e.type,t=e.children;return Object(K.jsx)(Ln,{type:n,children:t})},Un=function(e){var n=e.type,t=e.children;return f.a.createPortal(Object(K.jsx)(Bn,{type:n,children:t}),document.getElementById("modal-root"))},Yn=t(4),$n=t.n(Yn),Gn=t(10),Jn=t(7),Kn=v.a.div(ke||(ke=Object(m.a)(["\n    height: 100%;\n"]))),Wn=v.a.div(Ee||(Ee=Object(m.a)(["\n    flex-direction: row;\n    height: 100%;\n"]))),Xn=v.a.div(Pe||(Pe=Object(m.a)(["\n    flex: 1;\n    height: 100%;\n    overflow: auto;\n"]))),Qn=v.a.div(Re||(Re=Object(m.a)(["\n    background: ",";\n\n    div {\n        height: 50px;\n    }\n"])),P),Zn=v.a.div(De||(De=Object(m.a)(["\n    @media (min-width: ",") {\n        max-height: 500px;\n    }\n"])),g),et=v.a.div(Ne||(Ne=Object(m.a)(["\n    position: absolute;\n\n    left: 0;\n    right: 0;\n    top: 120px;\n    margin: auto;\n\n    height: max-content;\n    max-width: ",";\n\n    background: white;\n\n    border-radius: 4px;\n\n    z-index: 4;\n\n    @media (min-width: ",") {\n        left: 50px;\n    }\n\n    @media (min-width: ",") {\n        left: 240px;\n    }\n"])),(function(e){return e.width||"400px"}),g,y),nt=v.a.div(Te||(Te=Object(m.a)(["\n    position: absolute;\n    margin: auto;\n    top: 100px;\n    left: 0;\n    right: 0;\n\n    max-width: 350px;\n\n    background: white;\n\n    z-index: 4;\n\n    border-radius: 4px;\n"]))),tt=v.a.div(_e||(_e=Object(m.a)(["\n    table {\n        th {\n            background: ",";\n            color: black;\n            border: none;\n            font-size: 16px;\n        }\n        td {\n            color: #95a0a1;\n            font-weight: 500;\n            border-right: 1px solid ",";\n\n            :last-child {\n                border-right: none;\n            }\n\n            :first-child {\n                padding: 0;\n            }\n\n            strong {\n                color: #556769;\n                font-weight: 500;\n            }\n\n            > svg {\n                display: inline-block;\n            }\n        }\n\n        tr {\n            background: none !important;\n            border-bottom: 1px solid rgb(147, 185, 177, 0.2);\n\n            :last-child {\n                border-bottom: none;\n            }\n        }\n    }\n"])),T,N),rt=(v.a.div(ze||(ze=Object(m.a)([""]))),v.a.div(He||(He=Object(m.a)(["\n    border-left: 1px solid ",";\n\n    display: none;\n    position: fixed;\n    top: 50%;\n    bottom: 50px;\n    width: 100%;\n    background: ",";\n    z-index: 2;\n    padding: 5px;\n    box-shadow: "," 0px 0px 15px, "," 0px 0px 3px 1px;\n    gap: 10px;\n\n    ","\n\n    @media (min-width: ",") {\n        top: 152px;\n        right: 0px;\n        bottom: 0px;\n        max-width: 50%;\n    }\n\n    @media (min-width: ",") {\n        top: 180px;\n        max-width: 30%;\n    }\n\n    @media (min-width: ",") {\n        display: flex;\n        position: static;\n    }\n"])),D,N,I,I,(function(e){return e.show&&{display:"flex"}}),g,y,S)),at=v.a.div(Ie||(Ie=Object(m.a)(["\n    flex-direction: row;\n    justify-content: flex-start;\n    height: 30px;\n    padding: 5px;\n\n    @media (min-width: ",") {\n        display: none;\n    }\n"])),S),ct=t(528),ot=function(e){var n=e.children,t=e.show,r=e.onClose;return Object(K.jsxs)(rt,{show:t,children:[Object(K.jsx)(at,{children:Object(K.jsx)(an,{onClick:r,children:Object(K.jsx)(ct.a,{size:"16px"})})}),n]})},it=t(25),st=t(276),ut=v.a.div(Fe||(Fe=Object(m.a)(["\n    flex: 1 0 ",";\n"])),(function(e){return e.filterHeight?e.filterHeight:"50px"})),lt=v.a.div(Me||(Me=Object(m.a)(["\n    max-height: ",";\n    overflow: auto;\n"])),(function(e){return e.maxHeight||"500px"})),dt=v.a.div(Ve||(Ve=Object(m.a)(["\n    align-items: center;\n    position: absolute;\n    top: 50%;\n    left: 0px;\n    right: 0px;\n\n    font-size: 22px;\n\n    border: 1px solid black;\n\n    background: ",";\n    color: white;\n    z-index: 1;\n\n    ","\n"])),k,(function(e){return!e.data&&{position:"static"}})),jt=v.a.div(qe||(qe=Object(m.a)(["\n    align-items: center;\n    font-size: 22px;\n    border: 1px solid black;\n    color: red;\n"]))),bt=v.a.table(Ae||(Ae=Object(m.a)(["\n    text-align: center;\n    border-collapse: collapse;\n    padding-bottom: 5px;\n\n    @media (min-width: ",") {\n        border-bottom: 1px solid ",";\n    }\n"])),g,I),pt=v.a.td(Le||(Le=Object(m.a)(["\n    font-size: 17px;\n\n    ","\n\n    @media (min-width: ",") {\n        padding: 10px;\n    }\n"])),(function(e){return e.capitalize&&{textTransform:"capitalize"}}),y),ht=v.a.th(Be||(Be=Object(m.a)(["\n    padding: 5px;\n    font-weight: 700;\n    font-size: 19px;\n    border-bottom: 1px solid black;\n\n    position: sticky;\n    top: 0px;\n\n    background: ",";\n    color: white;\n"])),z),ft=v.a.tr(Ue||(Ue=Object(m.a)(["\n    cursor: pointer;\n\n    ","\n\n    ","\n\n    :nth-child(2n + 0) {\n        background: ",";\n    }\n\n    :hover {\n        background: ",";\n        color: white;\n    }\n"])),(function(e){return e.active&&{background:k+"!important",color:"white"}}),(function(e){return"dark"===e.theme&&{background:H,color:"white"}}),(function(e){return"light"===e.theme?"rgba(0, 0, 0, 0.05)":z}),E),xt=v.a.thead(Ye||(Ye=Object(m.a)([""]))),Ot=v.a.tfoot($e||($e=Object(m.a)(["\n    position: sticky;\n    bottom: 0;\n    background: lightGrey;\n\n    td {\n        color: black !important;\n        font-weight: 800 !important;\n        padding: 5px 0;\n    }\n"]))),mt=v.a.tbody(Ge||(Ge=Object(m.a)([""]))),vt=v.a.div(Je||(Je=Object(m.a)(["\n    align-items: center;\n    margin-top: 10px;\n    flex: 1 0 50px;\n\n    > ul,\n    li {\n        display: flex !important;\n        flex-direction: row;\n        padding: 0;\n        margin: 0;\n        height: 50px;\n    }\n\n    > ul li {\n        background: ",";\n        font-weight: 700;\n        cursor: pointer;\n\n        :hover {\n            background: ",";\n        }\n\n        &.active {\n            background: ",";\n        }\n    }\n\n    > ul a {\n        display: flex;\n        padding: 0px 20px;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n        border: 1px solid black;\n        border-radius: 4px;\n    }\n\n    @media (min-width: ",") {\n        align-items: flex-end;\n    }\n"])),D,E,k,g),gt=["children"],wt=["children"],yt=["children"],St=["children"],Ct=["children"],kt=["children"],Et=["children"],Pt=function(e){var n=e.children,t=Object(We.a)(e,gt);return Object(K.jsx)(bt,Object(J.a)(Object(J.a)({},t),{},{children:n}))};Pt.TableContainer=function(e){var n=e.children,t=e.maxHeight;return Object(K.jsx)(lt,{maxHeight:t,children:n})},Pt.Head=function(e){var n=e.children,t=Object(We.a)(e,wt);return Object(K.jsx)(xt,Object(J.a)(Object(J.a)({},t),{},{children:n}))},Pt.Body=function(e){var n=e.children,t=Object(We.a)(e,yt);return Object(K.jsx)(mt,Object(J.a)(Object(J.a)({},t),{},{children:n}))},Pt.Foot=function(e){var n=e.children,t=Object(We.a)(e,St);return Object(K.jsx)(Ot,Object(J.a)(Object(J.a)({},t),{},{children:n}))},Pt.TH=function(e){var n=e.children,t=Object(We.a)(e,Ct);return Object(K.jsx)(ht,Object(J.a)(Object(J.a)({},t),{},{children:n}))},Pt.TR=function(e){var n=e.children,t=Object(We.a)(e,kt);return Object(K.jsx)(ft,Object(J.a)(Object(J.a)({},t),{},{children:n}))},Pt.TD=function(e){var n=e.children,t=Object(We.a)(e,Et);return Object(K.jsx)(pt,Object(J.a)(Object(J.a)({},t),{},{children:n}))},Pt.LoadingContainer=function(e){var n=e.children,t=e.data;return Object(K.jsx)(dt,{data:t,children:n})},Pt.FilterContainer=function(e){var n=e.children,t=e.filterHeight;return Object(K.jsx)(ut,{filterHeight:t,children:n})},Pt.NoDataContainer=function(e){var n=e.children;return Object(K.jsx)(jt,{children:n})},Pt.PaginationContainer=function(e){var n=e.children;return Object(K.jsx)(vt,{children:n})};var Rt,Dt,Nt,Tt,_t,zt=Pt,Ht=v.a.input(Rt||(Rt=Object(m.a)(["\n    display: flex;\n    flex: 1;\n    outline: none;\n"]))),It=["placeholder","value","onChange"],Ft=function(e){var n=e.placeholder,t=e.value,r=e.onChange,a=Object(We.a)(e,It);return Object(K.jsx)(Ht,Object(J.a)({type:"search",placeholder:n,value:t,onChange:r},a))},Mt=t(277),Vt=t.n(Mt),qt=t(529),At=t(530),Lt=["children","pageCount","onPaginate"],Bt=function(e){e.children;var n=e.pageCount,t=e.onPaginate,r=Object(We.a)(e,Lt),a=Object(b.useState)(0),c=Object(Jn.a)(a,2),o=c[0],i=c[1];return Object(K.jsx)(Vt.a,Object(J.a)({previousLabel:Object(K.jsx)(qt.a,{size:"20px"}),disableInitialCallback:!0,nextLabel:Object(K.jsx)(At.a,{size:"20px"}),breakLabel:"...",breakClassName:"break-me",pageCount:n,marginPagesDisplayed:2,pageRangeDisplayed:5,containerClassName:"pagination",activeClassName:"active",onPageChange:function(e){return function(e){i(e),t(e+1)}(e.selected)},forcePage:1===n?0:o},r))},Ut=t(531),Yt=t(278),$t=t.n(Yt),Gt=function(e){var n=e.data,t=void 0===n?[]:n,r=e.loading,a=e.columns,c=void 0===a?[]:a,o=e.filterPlaceholder,i=e.pageCount,s=e.capitalize,u=e.async,l=void 0===u||u,d=e.theme,j=void 0===d?"light":d,p=e.onFilter,h=e.onRowSelect,f=e.onPaginate,x=e.onDeleteRow,O=e.multiSelect,m=e.selectedRows,v=void 0===m?[]:m,g=e.maxHeight,w=void 0===g?"500px":g,y=e.filterHeight,S=e.showFooter,C=void 0!==S&&S,k=Object(st.useTable)({columns:c,data:t}),E=k.getTableProps,P=k.getTableBodyProps,R=k.headerGroups,D=k.footerGroups,N=k.rows,T=k.prepareRow,_=Object(b.useState)([]),z=Object(Jn.a)(_,2),H=z[0],I=z[1];Object(b.useEffect)((function(){v&&v.length>0?I(v):null===v&&I([])}),[v]);var F=$t()((function(e){p(e)}),500);return Object(K.jsxs)(K.Fragment,{children:[p&&Object(K.jsx)(zt.FilterContainer,{filterHeight:y,children:Object(K.jsx)(Ft,{onChange:function(e){return F(e.target.value)},placeholder:o,autoFocus:!0})}),Object(K.jsx)(zt.TableContainer,{maxHeight:w,children:Object(K.jsxs)(zt,Object(J.a)(Object(J.a)({},E()),{},{children:[Object(K.jsx)(zt.Head,{children:R.map((function(e){return Object(K.jsxs)(zt.TR,Object(J.a)(Object(J.a)({},e.getHeaderGroupProps()),{},{children:[x&&Object(K.jsx)(zt.TH,{}),e.headers.map((function(e){return Object(K.jsx)(zt.TH,Object(J.a)(Object(J.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))]}))}))}),Object(K.jsx)(zt.Body,Object(J.a)(Object(J.a)({},P()),{},{children:N.map((function(e){return T(e),Object(K.jsxs)(zt.TR,Object(J.a)(Object(J.a)({theme:j,active:H.some((function(n){return n.id===e.original.id}))},e.getRowProps({onClick:h?function(n){!function(e,n){if("BUTTON"!==e.target.tagName&&"svg"!==e.target.tagName){var t=H.some((function(e){return e.id===n.id}));if(O){var r=[];r=t?H.filter((function(e){return e.id!==n.id})):[].concat(Object(it.a)(H),[n]),I(r),h(r)}else t?(I([]),h(null)):(I([n]),h(n))}}(n,e.original)}:null})),{},{children:[x&&Object(K.jsx)(zt.TD,{children:Object(K.jsx)("button",{onClick:function(){return x(e.original)},style:{padding:"5px 10px",background:"red",cursor:"pointer",borderRadius:"5px"},children:Object(K.jsx)(Ut.a,{color:"white"})})}),e.cells.map((function(e,n){return Object(K.jsx)(zt.TD,Object(J.a)(Object(J.a)({title:e.value,capitalize:s&&s.includes(n)},e.getCellProps()),{},{children:e.render("Cell")}))}))]}))}))})),C&&Object(K.jsx)(zt.Foot,{children:D.map((function(e){return Object(K.jsx)("tr",Object(J.a)(Object(J.a)({},e.getFooterGroupProps()),{},{children:e.headers.map((function(e){return Object(K.jsx)("td",Object(J.a)(Object(J.a)({},e.getFooterProps()),{},{children:e.render("Footer")}))}))}))}))})]}))}),f&&t.length>0&&Object(K.jsx)(zt.PaginationContainer,{children:Object(K.jsx)(Bt,{pageCount:i,onPaginate:f})}),r&&Object(K.jsx)(zt.LoadingContainer,{data:t.length?1:0,children:"Cargando..."}),l&&!t.length&&!r&&Object(K.jsx)(zt.NoDataContainer,{children:"No hay recursos en la base de datos"})]})},Jt=[{Header:"ID",accessor:"id"},{Header:"Nombre",accessor:"name"},{Header:"C\xe9dula",accessor:"cedula",Cell:function(e){var n=e.value;return Number(n).toLocaleString()}},{Header:"Total $",accessor:"total",Cell:function(e){return e.value.toFixed(2)}}],Kt=function(e){var n=e.data,t=e.loading,r=e.maxHeight,a=Object(b.useMemo)((function(){return Jt}),[]);return Object(K.jsx)(tt,{children:Object(K.jsx)(Gt,{data:n,columns:a,maxHeight:r,loading:t})})},Wt=v.a.div(Dt||(Dt=Object(m.a)(["\n    background: white;\n    box-shadow: rgb(101 119 134 / 20%) 0px 0px 15px, rgb(101 119 134 / 15%) 0px 0px 3px 1px;\n    border-radius: 16px;\n"]))),Xt=v.a.div(Nt||(Nt=Object(m.a)(["\n    flex: 0 0 50px;\n    flex-direction: row;\n    justify-content: space-between;\n    place-items: center;\n    background: ",";\n\n    padding: 0 10px;\n\n    border-top-left-radius: 16px;\n    border-top-right-radius: 16px;\n    border-bottom: 1px solid ",";\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n        margin: 0;\n    }\n"])),T,D),Qt=v.a.div(Tt||(Tt=Object(m.a)(["\n    border-bottom-left-radius: 16px;\n    border-bottom-right-radius: 16px;\n"]))),Zt=(v.a.div(_t||(_t=Object(m.a)([""]))),function(e){var n=e.children;return Object(K.jsx)(Wt,{children:n})});Zt.Header=function(e){var n=e.children;return Object(K.jsx)(Xt,{children:n})},Zt.Body=function(e){var n=e.children;return Object(K.jsx)(Qt,{children:n})};var er=Zt,nr=t(11),tr=t.n(nr),rr="/api/clients",ar=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=t?"?page=".concat(t):"?",c=r?"&filter=".concat(r):"",e.next=5,tr.a.get(rr+a+c).catch((function(e){return e.response}));case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),cr=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.get("".concat("/api/reports/client","/top")).catch((function(e){return e.response}));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),or=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.post(rr,n).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ir=function(){var e=Object(Gn.a)($n.a.mark((function e(n,t){var r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.patch(rr+"/".concat(n),t).catch((function(e){return e.response}));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),sr=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.delete(rr+"/".concat(n)).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ur=function(e){var n=e.show,t=e.onClose,r=Object(b.useState)([]),a=Object(Jn.a)(r,2),c=a[0],o=a[1],i=Object(b.useState)("last_week"),s=Object(Jn.a)(i,2),u=s[0],l=s[1],d=Object(b.useState)("last_week"),j=Object(Jn.a)(d,2),p=j[0],h=j[1],f=Object(b.useState)(!1),x=Object(Jn.a)(f,2),O=x[0],m=x[1];return Object(b.useEffect)((function(){(function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,cr();case 3:n=e.sent,m(!1),n.error||o(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(K.jsx)(ot,{onClose:t,show:n,children:Object(K.jsxs)("div",{style:{gap:"10px"},children:[Object(K.jsxs)(er,{children:[Object(K.jsx)(er.Header,{children:Object(K.jsx)("h3",{children:"Top 5 mejores clientes"})}),Object(K.jsx)("div",{style:{alignItems:"flex-end"},children:Object(K.jsxs)("select",{onChange:function(e){return l(e.target.value)},value:u,children:[Object(K.jsx)("option",{value:"lifetime",children:"De por vida"}),Object(K.jsx)("option",{value:"last_month",children:"\xdaltimo m\xe9s"}),Object(K.jsx)("option",{value:"last_week",children:"\xdaltima semana"}),Object(K.jsx)("option",{value:"today",children:"Hoy"})]})}),Object(K.jsx)(er.Body,{children:c.sales&&Object(K.jsx)(Kt,{data:c.sales[u],maxHeight:"200px",loading:O})})]}),Object(K.jsxs)(er,{children:[Object(K.jsx)(er.Header,{children:Object(K.jsx)("h3",{children:"Top 5 clientes deudores"})}),Object(K.jsx)("div",{style:{alignItems:"flex-end"},children:Object(K.jsxs)("select",{onChange:function(e){return h(e.target.value)},value:p,children:[Object(K.jsx)("option",{value:"lifetime",children:"De por vida"}),Object(K.jsx)("option",{value:"last_month",children:"\xdaltimo m\xe9s"}),Object(K.jsx)("option",{value:"last_week",children:"\xdaltima semana"}),Object(K.jsx)("option",{value:"today",children:"Hoy"})]})}),Object(K.jsx)(er.Body,{children:c.debts&&Object(K.jsx)(Kt,{data:c.debts[p],maxHeight:"200px",loading:O})})]})]})})},lr=function(e){var n=e.page,t=void 0===n?1:n,r=e.filter,a=void 0===r?"":r,c=e.fetching,o=e.count,i=e.fetchOnMount,s=void 0===i||i,u=Object(b.useState)([]),l=Object(Jn.a)(u,2),d=l[0],j=l[1],p=Object(b.useState)(!1),h=Object(Jn.a)(p,2),f=h[0],x=h[1],O=Object(b.useState)(null),m=Object(Jn.a)(O,2),v=m[0],g=m[1],w=Object(b.useCallback)(Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,c({page:t,filter:a,count:o});case 3:if(!(n=e.sent).error){e.next=8;break}return g({path:null,message:n.error.message}),x(!1),e.abrupt("return");case 8:j(n),x(!1);case 10:case"end":return e.stop()}}),e)}))),[t,a,c,o]);return Object(b.useEffect)((function(){s&&w()}),[t,a,w,o,s]),{data:d,setData:j,loading:f,error:v,fetchResource:w}},dr=t(24),jr=t(106);function br(e){return jr.DateTime.fromISO(e,{setZone:!0}).toFormat("F")}var pr,hr,fr,xr,Or,mr,vr,gr,wr,yr,Sr,Cr,kr,Er,Pr,Rr,Dr,Nr,Tr,_r,zr,Hr,Ir,Fr,Mr,Vr,qr,Ar,Lr,Br,Ur,Yr,$r,Gr,Jr,Kr,Wr,Xr,Qr,Zr,ea,na,ta,ra,aa,ca,oa,ia,sa,ua,la,da,ja,ba,pa,ha,fa,xa,Oa,ma,va,ga,wa,ya,Sa,Ca,ka,Ea,Pa,Ra,Da,Na,Ta,_a,za,Ha,Ia,Fa,Ma,Va,qa,Aa,La,Ba,Ua,Ya,$a,Ga,Ja,Ka,Wa,Xa,Qa=[{Header:"ID",accessor:"id"},{Header:"Nombre",accessor:"name"},{Header:"C\xe9dula",accessor:"cedula",Cell:function(e){return e.value.toLocaleString("es-VE")}},{Header:"Tel\xe9fono",accessor:"phoneNumber",Cell:function(e){return""!==e.value?Object(K.jsx)(dr.a,{displayType:"text",value:e.value,format:"(####) ###-####"}):"No registrado"}},{Header:"Creado",accessor:"createdAt",Cell:function(e){return br(e.value)}}],Za=function(e){var n=e.onClientSelect,t=e.selectedRows,r=e.shouldRefresh,a=e.showNotification,c=Object(b.useState)(1),o=Object(Jn.a)(c,2),i=o[0],s=o[1],u=Object(b.useState)(""),l=Object(Jn.a)(u,2),d=l[0],j=l[1],p=lr({page:i,filter:d,fetching:ar}),h=p.data,f=p.loading,x=p.error,O=p.fetchResource,m=Object(b.useMemo)((function(){return Qa}),[]);return Object(b.useEffect)((function(){r&&O()}),[r,O]),Object(b.useEffect)((function(){x&&a("error",x.message,3e3)}),[x,a]),Object(K.jsx)(Gt,{selectedRows:t,onRowSelect:n,loading:f,data:h.records,columns:m,onFilter:j,filterPlaceholder:"Buscar por id, nombre, c\xe9dula o tel\xe9fono",onPaginate:s,pageCount:h.pageCount,capitalize:[1,3]})},ec=v.a.div(pr||(pr=Object(m.a)(["\n    flex-direction: row;\n    justify-content: center;\n\n    width: 100%;\n    height: 100%;\n\n    background: none;\n\n    box-shadow: "," 0px 0px 15px, "," 0px 0px 3px 1px;\n"])),I,I),nc=v.a.div(hr||(hr=Object(m.a)(["\n    height: 100%;\n    margin: 0px 5px;\n\n    > button {\n        color: white;\n    }\n\n    :hover {\n        opacity: 0.8;\n    }\n\n    background: ",";\n"])),(function(e){return e.color})),tc=t(532),rc=t(533),ac=t(534),cc=function(e){var n=e.children,t=e.onCreate,r=e.onEdit,a=e.onDelete,c=e.deleteText,o=e.recordSelected;return Object(K.jsxs)(ec,{children:[n,t&&Object(K.jsx)(nc,{color:k,children:Object(K.jsxs)(an,{name:"ToolbarCreate",onClick:t,children:[Object(K.jsx)(tc.a,{size:"24px"}),"Nuevo"]})}),r&&Object(K.jsx)(nc,{color:R,children:Object(K.jsxs)(an,{name:"ToolbarEdit",onClick:r,disabled:!o,children:[Object(K.jsx)(rc.a,{size:"24px"}),"Editar"]})}),a&&Object(K.jsx)(nc,{color:"red",children:Object(K.jsxs)(an,{name:"ToolbarDelete",onClick:a,disabled:!o,children:[Object(K.jsx)(ac.a,{size:"24px"}),c||"Eliminar"]})})]})},oc=v.a.div(fr||(fr=Object(m.a)(["\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n\n    width: 100%;\n    height: 100%;\n\n    ","\n\n    z-index: ",";\n"])),(function(e){return e.backdrop&&"\n        background: rgba(0, 0, 0, .6);\n    "}),(function(e){return e.zindex?e.zindex:"3"})),ic=function(e){var n=e.children,t=e.backdrop,r=e.show,a=void 0!==r&&r,c=e.handleClose,o=e.zindex;return a&&Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(oc,{zindex:o,onClick:c,backdrop:t}),n]})},sc=function(e){var n=e.children,t=e.backdrop,r=void 0===t||t,a=e.show,c=void 0!==a&&a,o=e.handleClose,i=e.zindex;return f.a.createPortal(Object(K.jsx)(ic,{backdrop:r,show:c,handleClose:o,zindex:i,children:n}),document.getElementById("modal-root"))},uc=v.a.form(xr||(xr=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n"]))),lc=v.a.div(Or||(Or=Object(m.a)(["\n    min-height: 50px;\n    border-bottom: 1px solid ",";\n"])),I),dc=v.a.div(mr||(mr=Object(m.a)(["\n    flex: 0 1 20px;\n    align-items: flex-end;\n"]))),jc=v.a.div(vr||(vr=Object(m.a)(["\n    flex: 1;\n    align-items: flex-start;\n    margin-left: 20px;\n    margin-bottom: 10px;\n\n    font-size: 20px;\n    font-weight: 700;\n"]))),bc=v.a.div(gr||(gr=Object(m.a)(["\n    padding: 10px;\n    gap: 10px;\n    max-height: 550px;\n    overflow-y: ",";\n\n    h4,\n    h2 {\n        margin: 0 0 5px 0;\n    }\n"])),(function(e){return e.overflow?"auto":"none"})),pc=v.a.div(wr||(wr=Object(m.a)(["\n    border-top: 1px solid ",";\n"])),I),hc=v.a.div(yr||(yr=Object(m.a)(["\n    flex-direction: row;\n    justify-content: flex-end;\n    flex: 0 1 50px;\n\n    padding: 5px 0;\n"]))),fc=v.a.div(Sr||(Sr=Object(m.a)(["\n    flex-direction: row;\n    flex: 0 1 auto;\n    gap: 10px;\n\n    div {\n        max-width: 100%;\n    }\n"]))),xc=v.a.div(Cr||(Cr=Object(m.a)(["\n    flex: 0 1 100%;\n"]))),Oc=v.a.div(kr||(kr=Object(m.a)(["\n    background: ",";\n    margin: 0 5px;\n\n    > button {\n        color: white;\n    }\n\n    svg {\n        margin: 0;\n    }\n\n    :hover {\n        opacity: 0.8;\n    }\n"])),(function(e){return e.color?e.color:"transparent"})),mc=v.a.span(Er||(Er=Object(m.a)(["\n    font-weight: 500;\n    color: red;\n    padding-top: 5px;\n    width: 100%;\n"]))),vc=v.a.span(Pr||(Pr=Object(m.a)(["\n    display: flex;\n    flex: 0 0 20px;\n    margin: 0 20px;\n    color: white;\n    font-size: 18px;\n"]))),gc=(v.a.div(Rr||(Rr=Object(m.a)(["\n    min-width: 48px;\n    max-width: 48px;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: contain;\n"])),(function(e){return e.url})),v.a.div(Dr||(Dr=Object(m.a)(["\n    * {\n        font-size: 16px;\n        padding: 0;\n        margin: 0;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n\n    td {\n        max-width: 80px;\n    }\n\n    h4 {\n        margin-top: 10px;\n        text-align: center;\n    }\n"])))),wc=v.a.div(Nr||(Nr=Object(m.a)(["\n    align-items: center;\n    color: green;\n    font-size: 19px;\n    font-weight: 600;\n"]))),yc=t(535),Sc=t(536),Cc=t(40),kc=function(e){var n=Object(b.useState)(e),t=Object(Jn.a)(n,2),r=t[0],a=t[1];return{errors:r,handleErrors:function(e){var n={};"function"===typeof e[Symbol.iterator]?e.forEach((function(e){n[""+e.path]=e.message})):n[e.path]=e.message,a(Object(J.a)({},n))},setErrors:a}},Ec=function(){var e=Object(Gn.a)($n.a.mark((function e(n,t){var r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,t.validate(n,{abortEarly:!1});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.inner.forEach((function(e){r.push({path:e.path,message:e.message})}));case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n,t){return e.apply(this,arguments)}}(),Pc=Ec,Rc=function(e){var n=e.initialState,t=e.action,r=e.createResource,a=e.editResource,c=e.deleteResource,o=e.schema,i=e.onSubmitSuccess,s=e.submitSuccessMessage,u=e.onDeleteSuccess,l=Object(b.useState)(!1),d=Object(Jn.a)(l,2),j=d[0],p=d[1],h=Object(b.useState)(n),f=Object(Jn.a)(h,2),x=f[0],O=f[1],m=kc([]),v=m.errors,g=m.handleErrors,w=m.setErrors,y=s||{create:"El recurso fue creado con \xe9xito",edit:"El recurso fue actualizado con \xe9xito"};return{loading:j,handleNestedChange:function(e,n,t,r){var a=JSON.stringify(x);(a=JSON.parse(a))[e][n][t]=r,O(Object(J.a)({},a))},handleChange:function(e){var n=e.target.name;"file"===e.target.type?O(Object(J.a)(Object(J.a)({},x),{},Object(Cc.a)({},n,e.target.files[0]))):O(Object(J.a)(Object(J.a)({},x),{},Object(Cc.a)({},n,e.target.value)))},handleNumericInput:function(e,n){var t=JSON.stringify(x);(t=JSON.parse(t))[n]=e,O(Object(J.a)({},t))},handleSubmit:function(){var e=Object(Gn.a)($n.a.mark((function e(n){var c,s;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Pc(x,o);case 3:if(c=e.sent,g(c),c.length){e.next=30;break}if(s={},j){e.next=28;break}if(p(!0),delete x.createdAt,e.prev=10,"create"!==t){e.next=17;break}return e.next=14,r(x);case 14:s=e.sent,e.next=21;break;case 17:if("edit"!==t){e.next=21;break}return e.next=20,a(x.id,x);case 20:s=e.sent;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(10),console.log(e.t0);case 26:s.error?g(s.error):i&&i(y[t],x),p(!1);case 28:e.next=31;break;case 30:p(!1);case 31:case"end":return e.stop()}}),e,null,[[10,23]])})));return function(n){return e.apply(this,arguments)}}(),handleDelete:function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=5;break}return e.next=3,c(n);case 3:(t=e.sent).error?g(t.error):u();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),formData:x,setFormData:O,submitErrors:v,setSubmitErrors:w,printError:function(e){return v[e]?Object(K.jsx)(mc,{children:v[e]}):""},hasError:function(e){return v[e]},onDeleteSuccess:u}},Dc=t(23),Nc=Dc.c().shape({name:Dc.d().required("El campo nombre es requerido"),cedula:Dc.d().min(7,"C\xe9dula inv\xe1lida").max(8,"C\xe9dula inv\xe1lida").required("El campo c\xe9dula es requerido"),phoneNumber:Dc.d().test("is-invalid","El tel\xe9fono debe contener 11 caracteres",function(){var e=Object(Gn.a)($n.a.mark((function e(n){return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",0===n.length||11===n.length);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),Tc=Nc,_c=function(e){var n=e.client,t=e.action,r=e.handleClose,a=e.onSubmit,c=e.autoFocus,o=void 0===c?"name":c,i=Rc({initialState:Object(J.a)({name:"",cedula:"",phoneNumber:""},n),action:t,createResource:or,editResource:ir,schema:Tc,onSubmitSuccess:a}),s=i.handleChange,u=i.handleNumericInput,l=i.handleSubmit,d=i.formData,j=i.printError,b=i.hasError;return Object(K.jsxs)(uc,{onSubmit:l,children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:r,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"create"===t?"Crear cliente":"Editar cliente"})]}),Object(K.jsxs)(bc,{children:[Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onChange:s,placeholder:"Nombre",name:"name",value:d.name,autoFocus:"name"===o,capitalize:!0,required:!0,errorborder:b("name")}),j("name")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onValueChange:function(e){return u(e.value,"cedula")},placeholder:"C\xe9dula",name:"cedula",value:d.cedula,autoFocus:"cedula"===o,thousandSeparator:".",decimalSeparator:",",decimalScale:0,as:dr.a,required:!0,errorborder:b("cedula")}),j("cedula")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onValueChange:function(e){return u(e.value,"phoneNumber")},placeholder:"Tel\xe9fono",name:"phoneNumber",value:d.phoneNumber,autoFocus:"phoneNumber"===o,format:"( #### ) - ### - ####",allowEmptyFormatting:!0,mask:"_",type:"tel",as:dr.a,errorborder:b("phoneNumber")}),j("phoneNumber")]})]}),Object(K.jsxs)(pc,{children:[Object(K.jsx)(vc,{children:j("undefined")}),Object(K.jsxs)(hc,{children:[Object(K.jsx)(Oc,{color:k,children:Object(K.jsxs)(an,{type:"submit",children:[Object(K.jsx)(yc.a,{size:24}),"Enviar"]})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsxs)(an,{onClick:r,children:[Object(K.jsx)(Sc.a,{size:24}),"Cancelar"]})})]})]})]})},zc=v.a.div(Tr||(Tr=Object(m.a)(["\n    flex: 1;\n"]))),Hc=v.a.div(_r||(_r=Object(m.a)(["\n    flex: 0 1 auto;\n    border-bottom: 1px solid ",";\n"])),I),Ic=v.a.span(zr||(zr=Object(m.a)(["\n    margin-left: 10px;\n    font-size: 24px;\n    font-weight: 600;\n    padding: 5px 0;\n"]))),Fc=v.a.div(Hr||(Hr=Object(m.a)(["\n    flex: 1 1 auto;\n    padding: 20px 0;\n"]))),Mc=v.a.span(Ir||(Ir=Object(m.a)(["\n    margin-left: 10px;\n    font-size: 19px;\n    font-weight: 400;\n"]))),Vc=v.a.div(Fr||(Fr=Object(m.a)(["\n    flex-direction: row;\n    justify-content: flex-end;\n    flex: 0 1 auto;\n    height: 50px;\n    border-top: 1px solid ",";\n    padding: 5px 0;\n"])),I),qc=v.a.div(Mr||(Mr=Object(m.a)(["\n    background: ",";\n    margin-right: 10px;\n\n    > button {\n        color: white;\n    }\n"])),(function(e){return e.color})),Ac=v.a.div(Vr||(Vr=Object(m.a)(["\n    align-items: flex-end;\n    margin: 0;\n    padding: 0;\n"]))),Lc=function(e){e.size;var n=e.message,t=e.additionalActions,r=void 0===t?[]:t,a=e.handleClose,c=e.callback;return Object(K.jsxs)(zc,{children:[Object(K.jsxs)(Hc,{children:[Object(K.jsx)(Ac,{children:Object(K.jsx)(an,{onClick:a,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(Ic,{children:"Confirmaci\xf3n"})]}),Object(K.jsx)(Fc,{children:Object(K.jsx)(Mc,{children:n||"\xbfEst\xe1 seguro que desea realizar esta acci\xf3n?"})}),Object(K.jsxs)(Vc,{children:[r.length>0&&r.map((function(e,n){return Object(K.jsx)(qc,{color:e.color,children:Object(K.jsx)(an,{onClick:e.callback,children:e.name})},n)})),Object(K.jsx)(qc,{color:k,children:Object(K.jsx)(an,{onClick:c,autoFocus:!0,children:"Aceptar"})}),Object(K.jsx)(qc,{color:"red",children:Object(K.jsx)(an,{onClick:a,children:"Cancelar"})})]})]})},Bc=function(e){var n=Object(b.useState)(e),t=Object(Jn.a)(n,2),r=t[0],a=t[1];return{notification:r,showNotification:Object(b.useCallback)((function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;qr&&clearTimeout(qr),a({type:e,text:n}),qr=setTimeout((function(){a(null)}),t)}),[])}},Uc=function(){var e=Object(b.useState)(null),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(null),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Object(b.useState)(!1),u=Object(Jn.a)(s,2),l=u[0],d=u[1],j=Bc(null),p=j.notification,h=j.showNotification;Object(b.useEffect)((function(){d(!!t)}),[t]),Object(b.useEffect)((function(){"refresh"===o&&r(null)}),[o]);var f=function(e){"ToolbarCreate"===e.currentTarget.name?i("create"):"ToolbarEdit"===e.currentTarget.name?i("edit"):"ToolbarDelete"===e.currentTarget.name&&i("delete"),d(!1)},x=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(t.id);case 2:return n=e.sent,i("refresh"),r(null),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(Kn,{children:[Object(K.jsxs)(Wn,{children:[Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Qn,{children:Object(K.jsx)(cc,{recordSelected:t,onCreate:f,onEdit:f,onDelete:f})}),Object(K.jsx)(Zn,{children:Object(K.jsx)(Za,{shouldRefresh:"refresh"===o,selectedRows:t,onClientSelect:r,showNotification:h})}),Object(K.jsxs)(sc,{backdrop:!0,show:!(!o||"refresh"===o),handleClose:function(){return i(null)},children:[("create"===o||"edit"===o)&&Object(K.jsx)(et,{children:Object(K.jsx)(_c,{onSubmit:function(e){h("success",e,2e3),i("refresh")},action:o,client:"edit"===o&&t,handleClose:function(){return i(null)}})}),"delete"===o&&Object(K.jsx)(nt,{children:Object(K.jsx)(Lc,{showNotification:h,handleClose:function(){return i(null)},callback:x})})]})]}),Object(K.jsx)(ur,{activeRecord:t,show:l,onClose:function(){d(!1),r(null)}})]}),p&&Object(K.jsx)(Un,{type:p.type,children:p.text})]})},Yc="/api/users",$c=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=t?"?page=".concat(t):"",c=r?"&filter=".concat(r):"",e.next=5,tr.a.get(Yc+a+c).catch((function(e){return e.response}));case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Gc=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.post(Yc,n).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Jc=function(){var e=Object(Gn.a)($n.a.mark((function e(n,t){var r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.patch(Yc+"/".concat(n),t).catch((function(e){return e.response}));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Kc=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.delete(Yc+"/".concat(n)).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Wc=[{Header:"ID",accessor:"id"},{Header:"Nombre de usuario",accessor:"username"},{Header:"Nivel de permiso",accessor:"permissions"},{Header:"Creado",accessor:"createdAt",Cell:function(e){return br(e.value)}}],Xc=function(e){var n=e.onUserSelect,t=e.selectedRows,r=e.shouldRefresh,a=e.showNotification,c=Object(b.useState)(1),o=Object(Jn.a)(c,2),i=o[0],s=o[1],u=Object(b.useState)(""),l=Object(Jn.a)(u,2),d=l[0],j=l[1],p=Object(b.useMemo)((function(){return Wc}),[]),h=lr({page:i,filter:d,fetching:$c}),f=h.data,x=h.loading,O=h.error,m=h.fetchResource;return Object(b.useEffect)((function(){r&&m()}),[r,m]),Object(b.useEffect)((function(){O&&a("error",O.message,3e3)}),[O,a]),Object(K.jsx)(Gt,{selectedRows:t,onRowSelect:n,loading:x,data:f.records,columns:p,onFilter:j,filterPlaceholder:"Buscar...",onPaginate:s,pageCount:f.pageCount})},Qc=Dc.c().shape({username:Dc.d().required("El campo nombre de usuario es requerido"),password:Dc.d().nullable(!0),permissions:Dc.b().required("El campo Nivel de permiso es requerido").min(0,"El nivel de permiso debe tener un valor entre 0 y 2").max(2,"El nivel de permiso debe tener un valor entre 0 y 2")}),Zc=Qc,eo=function(e){var n=e.user,t=e.action,r=e.handleClose,a=e.onSubmit,c=Rc({initialState:Object(J.a)(Object(J.a)({username:"",permissions:""},n),{},{password:""}),action:t,createResource:Gc,editResource:Jc,schema:Zc,onSubmitSuccess:a}),o=c.handleChange,i=c.handleNumericInput,s=c.handleSubmit,u=c.formData,l=c.printError,d=c.hasError;return Object(K.jsxs)(uc,{onSubmit:s,children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{children:Object(K.jsx)(ct.a,{onClick:r})})}),Object(K.jsxs)(jc,{children:["create"===t&&"Crear usuario","edit"===t&&"Editar usuario"]})]}),Object(K.jsxs)(bc,{children:[Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onChange:o,value:u.username,name:"username",placeholder:"Nombre de usuario",autoFocus:!0,errorborder:d("username"),required:!0}),l("username")]}),"edit"!==t&&Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onChange:o,value:u.password,name:"password",placeholder:"Contrase\xf1a",type:"password",errorborder:d("password"),required:!0}),l("password")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onValueChange:function(e){return i(e.floatValue,"permissions")},value:u.permissions,placeholder:"Nivel de permiso",isAllowed:function(e){if(e.value<3)return e},allowDecimalSeparators:!1,format:"#",errorborder:d("permissions"),as:dr.a,required:!0}),Object(K.jsx)("small",{children:"0: Empleado 1: Administrador 2: Master"}),l("permissions")]})]}),Object(K.jsxs)(pc,{children:[Object(K.jsx)(vc,{children:l("undefined")}),Object(K.jsxs)(hc,{children:[Object(K.jsx)(Oc,{color:k,children:Object(K.jsx)(an,{type:"submit",children:"Enviar"})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsx)(an,{children:"Cancelar"})})]})]})]})},no=function(){var e=Object(b.useState)(null),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(null),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Bc(null),u=s.notification,l=s.showNotification;Object(b.useEffect)((function(){"refresh"===o&&r(null)}),[o]);var d=function(e){"ToolbarCreate"===e.currentTarget.name?i("create"):"ToolbarEdit"===e.currentTarget.name?i("edit"):"ToolbarDelete"===e.currentTarget.name&&i("delete")},j=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kc(t.id);case 2:return n=e.sent,i("refresh"),r(null),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(Kn,{children:[Object(K.jsx)(Wn,{children:Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Qn,{children:Object(K.jsx)(cc,{onCreate:d,onEdit:d,onDelete:d,recordSelected:t})}),Object(K.jsx)(Zn,{children:Object(K.jsx)(Xc,{onUserSelect:r,selectedRows:t,showNotification:l,shouldRefresh:"refresh"===o})}),Object(K.jsxs)(sc,{backdrop:!0,show:!(!o||"refresh"===o),handleClose:function(){return i(null)},children:[("create"===o||"edit"===o)&&Object(K.jsx)(et,{children:Object(K.jsx)(eo,{onSubmit:function(e){l("success",e,2e3),i("refresh")},action:o,user:"edit"===o&&t,handleClose:function(){return i(null)}})}),"delete"===o&&Object(K.jsx)(nt,{children:Object(K.jsx)(Lc,{showNotification:l,handleClose:function(){return i(null)},callback:j})})]})]})}),u&&Object(K.jsx)(Un,{type:u.type,children:u.text})]})},to="/api/suppliers",ro=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=t?"?page=".concat(t):"?",c=r?"&filter=".concat(r):"",e.next=5,tr.a.get(to+a+c).catch((function(e){return e.response}));case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ao=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.post(to,n).catch((function(e){return e.response}));case 2:return t=e.sent,console.log(t),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),co=function(){var e=Object(Gn.a)($n.a.mark((function e(n,t){var r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.patch(to+"/".concat(n),t).catch((function(e){return e.response}));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),oo=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.delete(to+"/".concat(n)).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),io=[{Header:"ID",accessor:"id"},{Header:"Nombre",accessor:"name"},{Header:"RIF",accessor:"rif"},{Header:"Tel\xe9fono",accessor:"phoneNumber",Cell:function(e){return""!==e.value?Object(K.jsx)(dr.a,{displayType:"text",value:e.value,format:"(####) ###-####"}):"No registrado"}},{Header:"Direcci\xf3n",accessor:"address"},{Header:"Creado",accessor:"createdAt",Cell:function(e){return br(e.value)}}],so=function(e){var n=e.onSupplierSelect,t=e.selectedRows,r=e.shouldRefresh,a=e.showNotification,c=Object(b.useState)(1),o=Object(Jn.a)(c,2),i=o[0],s=o[1],u=Object(b.useState)(""),l=Object(Jn.a)(u,2),d=l[0],j=l[1],p=Object(b.useMemo)((function(){return io}),[]),h=lr({page:i,filter:d,fetching:ro}),f=h.data,x=h.loading,O=h.error,m=h.fetchResource;return Object(b.useEffect)((function(){r&&m()}),[r,m]),Object(b.useEffect)((function(){O&&a("error",O.message,3e3)}),[O,a]),Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(Gt,{selectedRows:t,onRowSelect:n,loading:x,data:f.records,columns:p,onFilter:j,filterPlaceholder:"Buscar...",onPaginate:s,pageCount:f.pageCount,capitalize:[1,3]})})},uo=Dc.c().shape({name:Dc.d().required("El campo nombre es requerido"),rif:Dc.d().required("El campo RIF es requerido"),address:Dc.d().required("El campo direcci\xf3n es requerido"),phoneNumber:Dc.d().test("is-invalid","El tel\xe9fono debe contener 11 caracteres",function(){var e=Object(Gn.a)($n.a.mark((function e(n){return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",0===n.length||11===n.length);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),lo=uo,jo=function(e){var n=e.supplier,t=e.action,r=e.handleClose,a=e.onSubmit,c=Rc({initialState:Object(J.a)({name:"",rif:"",address:"",phoneNumber:""},n),action:t,createResource:ao,editResource:co,schema:lo,onSubmitSuccess:a}),o=c.handleChange,i=c.loading,s=c.handleNumericInput,u=c.handleSubmit,l=c.formData,d=c.printError,j=c.hasError;return Object(K.jsxs)(uc,{onSubmit:u,children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:r,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"create"===t?"Crear proveedor":"Editar proveedor"})]}),Object(K.jsxs)(bc,{children:[Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onChange:o,placeholder:"Nombre",name:"name",value:l.name,autoFocus:!0,capitalize:!0,required:!0,errorborder:j("name")}),d("name")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onChange:o,placeholder:"RIF",name:"rif",value:l.rif,thousandSeparator:".",decimalSeparator:",",decimalScale:0,errorborder:j("rif"),capitalize:!0,required:!0}),d("rif")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onChange:o,placeholder:"Direcci\xf3n",name:"address",value:l.address,errorborder:j("address"),required:!0}),d("address")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onValueChange:function(e){return s(e.value,"phoneNumber")},placeholder:"Tel\xe9fono",name:"phoneNumber",value:l.phoneNumber,format:"( #### ) - ### - ####",allowEmptyFormatting:!0,mask:"_",type:"tel",as:dr.a,errorborder:j("phoneNumber"),required:!0}),d("phoneNumber")]})]}),Object(K.jsxs)(pc,{children:[Object(K.jsx)(vc,{children:d("undefined")}),Object(K.jsxs)(hc,{children:[Object(K.jsx)(Oc,{color:k,children:Object(K.jsxs)(an,{loading:i,type:"submit",children:[Object(K.jsx)(yc.a,{size:24}),"Enviar"]})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsxs)(an,{onClick:r,children:[Object(K.jsx)(Sc.a,{size:24}),"Cancelar"]})})]})]})]})},bo=function(){var e=Object(b.useState)(null),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(null),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Bc(null),u=s.notification,l=s.showNotification;Object(b.useEffect)((function(){"refresh"===o&&r(null)}),[o]);var d=function(e){"ToolbarCreate"===e.currentTarget.name?i("create"):"ToolbarEdit"===e.currentTarget.name?i("edit"):"ToolbarDelete"===e.currentTarget.name&&i("delete")},j=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo(t.id);case 2:return n=e.sent,i("refresh"),r(null),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(Kn,{children:[Object(K.jsx)(Wn,{children:Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Qn,{children:Object(K.jsx)(cc,{onCreate:d,onEdit:d,onDelete:d,recordSelected:t})}),Object(K.jsx)(Zn,{children:Object(K.jsx)(so,{onSupplierSelect:r,selectedRows:t,showNotification:l,shouldRefresh:"refresh"===o})}),Object(K.jsxs)(sc,{backdrop:!0,show:!(!o||"refresh"===o),handleClose:function(){return i(null)},children:[("create"===o||"edit"===o)&&Object(K.jsx)(et,{children:Object(K.jsx)(jo,{onSubmit:function(e){l("success",e,2e3),i("refresh")},action:o,supplier:"edit"===o&&t,handleClose:function(){return i(null)}})}),"delete"===o&&Object(K.jsx)(nt,{children:Object(K.jsx)(Lc,{showNotification:l,handleClose:function(){return i(null)},callback:j})})]})]})}),u&&Object(K.jsx)(Un,{type:u.type,children:u.text})]})},po="/api/categories",ho=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=t?"?page=".concat(t):"",c=r?"&filter=".concat(r):"",e.next=5,tr.a.get(po+a+c).catch((function(e){return e.response}));case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),fo=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.post(po,n).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),xo=function(){var e=Object(Gn.a)($n.a.mark((function e(n,t){var r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.patch(po+"/".concat(n),t).catch((function(e){return e.response}));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Oo=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.delete(po+"/".concat(n)).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),mo=[{Header:"ID",accessor:"id"},{Header:"Nombre",accessor:"name"},{Header:"Creado",accessor:"createdAt",Cell:function(e){return br(e.value)}}],vo=function(e){var n=e.onCategorySelect,t=e.selectedRows,r=e.shouldRefresh,a=e.showNotification,c=Object(b.useState)(1),o=Object(Jn.a)(c,2),i=o[0],s=o[1],u=Object(b.useState)(""),l=Object(Jn.a)(u,2),d=l[0],j=l[1],p=lr({page:i,filter:d,fetching:ho}),h=p.data,f=p.loading,x=p.error,O=p.fetchResource,m=Object(b.useMemo)((function(){return mo}),[]);return Object(b.useEffect)((function(){r&&O()}),[r,O]),Object(b.useEffect)((function(){x&&a("error",x.message,3e3)}),[x,a]),Object(K.jsx)(Gt,{selectedRows:t,onRowSelect:n,loading:f,data:h.records,columns:m,onFilter:j,filterPlaceholder:"Buscar por id o nombre",onPaginate:s,pageCount:h.pageCount,capitalize:[1]})},go=Dc.c().shape({name:Dc.d().required("El campo nombre es requerido")}),wo=go,yo=function(e){var n=e.category,t=e.action,r=e.handleClose,a=e.onSubmit,c=Rc({initialState:Object(J.a)({name:""},n),action:t,createResource:fo,editResource:xo,schema:wo,onSubmitSuccess:a}),o=c.handleChange,i=c.handleSubmit,s=c.formData,u=c.printError,l=c.hasError;return Object(K.jsxs)(uc,{onSubmit:i,children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:r,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"create"===t?"Crear categor\xeda":"Editar categor\xeda"})]}),Object(K.jsx)(bc,{children:Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onChange:o,placeholder:"Nombre",name:"name",value:s.name,autoFocus:!0,capitalize:!0,required:!0,errorborder:l("name")}),u("name")]})}),Object(K.jsxs)(pc,{children:[Object(K.jsx)(vc,{children:u("undefined")}),Object(K.jsxs)(hc,{children:[Object(K.jsx)(Oc,{color:k,children:Object(K.jsxs)(an,{type:"submit",children:[Object(K.jsx)(yc.a,{size:24}),"Enviar"]})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsxs)(an,{onClick:r,children:[Object(K.jsx)(Sc.a,{size:24}),"Cancelar"]})})]})]})]})},So=function(){var e=Object(b.useState)(null),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(null),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Bc(null),u=s.notification,l=s.showNotification;Object(b.useEffect)((function(){"refresh"===o&&r(null)}),[o]);var d=function(e){"ToolbarCreate"===e.currentTarget.name?i("create"):"ToolbarEdit"===e.currentTarget.name?i("edit"):"ToolbarDelete"===e.currentTarget.name&&i("delete")},j=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(t.id);case 2:return n=e.sent,i("refresh"),r(null),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(Kn,{children:[Object(K.jsx)(Wn,{children:Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Qn,{children:Object(K.jsx)(cc,{recordSelected:!!t,onCreate:d,onEdit:d,onDelete:d})}),Object(K.jsx)(Zn,{children:Object(K.jsx)(vo,{shouldRefresh:"refresh"===o,selectedRows:t,onCategorySelect:r,showNotification:l})}),Object(K.jsxs)(sc,{backdrop:!0,show:!(!o||"refresh"===o),handleClose:function(){return i(null)},children:[("create"===o||"edit"===o)&&Object(K.jsx)(et,{children:Object(K.jsx)(yo,{onSubmit:function(e){l("success",e,2e3),i("refresh")},action:o,category:"edit"===o&&t,handleClose:function(){return i(null)}})}),"delete"===o&&Object(K.jsx)(nt,{children:Object(K.jsx)(Lc,{showNotification:l,handleClose:function(){return i(null)},callback:j})})]})]})}),u&&Object(K.jsx)(Un,{type:u.type,children:u.text})]})},Co="/api/product_variants",ko=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=t?"?page=".concat(t):"?",c=r?"&filter=".concat(r):"",e.next=5,tr.a.get(Co+a+c).catch((function(e){return e.response}));case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Eo=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.get("".concat(Co,"/").concat(n)).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Po=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o,i,s,u;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=n.count,c=n.product_variant_id,o=t?"?page=".concat(t):"?",i=r?"&filter=".concat(r):"",s=a?"&count=".concat(a):"",e.next=6,tr.a.get("".concat(Co,"/").concat(c,"/supplyings").concat(o).concat(s).concat(i)).catch((function(e){return e.response}));case 6:return u=e.sent,e.abrupt("return",u.data);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ro=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.delete(Co+"/".concat(n)).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Do=[{Header:"ID",accessor:"id"},{Header:"Nombre",accessor:"name"},{Header:"Precio $",accessor:"price",id:"price"},{Header:"Precio VES",accessor:"converted_price.PRICE_VES",id:"converted_price.PRICE_VES",Cell:function(e){return e.value?e.value.toLocaleString("es-VE"):"0"}},{Header:"Stock",accessor:"stock"}],No=function(e){var n=e.onProductSelect,t=e.selectedRows,r=e.shouldRefresh,a=e.showNotification,c=Object(b.useState)(1),o=Object(Jn.a)(c,2),i=o[0],s=o[1],u=Object(b.useState)(""),l=Object(Jn.a)(u,2),d=l[0],j=l[1],p=lr({page:i,filter:d,fetching:ko}),h=p.data,f=p.loading,x=p.error,O=p.fetchResource,m=Object(b.useMemo)((function(){return Do}),[]);return Object(b.useEffect)((function(){r&&O()}),[r,O]),Object(b.useEffect)((function(){x&&a("error",x.message,3e3)}),[x,a]),Object(K.jsx)(Gt,{selectedRows:t,onRowSelect:n,loading:f,data:h.records,columns:m,onFilter:j,filterPlaceholder:"Buscar por id, nombre, precio",onPaginate:s,pageCount:h.pageCount,capitalize:[1,3]})},To=v.a.div(Ar||(Ar=Object(m.a)(["\n    flex-direction: row;\n    gap: 10px;\n    margin-bottom: 15px;\n"]))),_o=v.a.div(Lr||(Lr=Object(m.a)(["\n    flex: 1;\n    gap: 10px;\n"]))),zo=v.a.div(Br||(Br=Object(m.a)(["\n    display: grid;\n    grid-template-columns: 3fr 3fr 0.5fr;\n    grid-auto-columns: auto;\n    gap: 10px;\n"]))),Ho=v.a.div(Ur||(Ur=Object(m.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-template-rows: 1fr 1fr;\n    gap: 8px;\n\n    div {\n        margin: 0;\n    }\n"]))),Io=v.a.div(Yr||(Yr=Object(m.a)(["\n    label {\n        height: 100%;\n        > label {\n            overflow: hidden;\n            white-space: pre-wrap;\n            text-overflow: ellipsis;\n        }\n    }\n    input {\n        display: none;\n    }\n"]))),Fo=v.a.div($r||($r=Object(m.a)(["\n    flex: 1;\n"]))),Mo=v.a.div(Gr||(Gr=Object(m.a)(["\n    align-items: center;\n    justify-content: flex-end;\n    gap: 10px;\n\n    button {\n        background: ",";\n        flex: 0 1 40px;\n        border-radius: 4px;\n        color: white;\n\n        svg {\n            margin: 0;\n        }\n    }\n"])),(function(e){return e.color?e.color:"transparent"})),Vo=v.a.div(Jr||(Jr=Object(m.a)(["\n    flex: 0 1 100%;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-position-x: center;\n    background-position-y: center;\n    background-size: 48px;\n"])),(function(e){return e.url})),qo=v.a.div(Kr||(Kr=Object(m.a)(["\n    grid-column: 1/3;\n"]))),Ao=v.a.div(Wr||(Wr=Object(m.a)(["\n    grid-row: 2;\n    grid-column: 1/1;\n    input {\n        text-align: right;\n    }\n"]))),Lo=v.a.div(Xr||(Xr=Object(m.a)(["\n    grid-row: 2;\n    grid-column: 2/2;\n    input {\n        text-align: right;\n    }\n"]))),Bo="/api/products",Uo=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new FormData,r=[],n.product_variant.forEach((function(e,n){null!=e.imagePath&&"object"===typeof e.imagePath?(t.append("images",e.imagePath),r.push(n)):r.push(-1)})),t.append("variantsWithImage",JSON.stringify(r)),t.append("name",n.name),t.append("brand",n.brand),t.append("product_variant",JSON.stringify(n.product_variant)),e.next=9,tr()({method:"post",url:Bo,data:t,headers:{"Content-Type":"multipart/form-data"}}).catch((function(e){return e.response}));case 9:return a=e.sent,console.log(a),e.abrupt("return",a.data);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Yo=function(){var e=Object(Gn.a)($n.a.mark((function e(n,t){var r,a,c;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new FormData,a=[],console.log("from updateProduct API",t),t.product_variant.forEach((function(e,n){null!=e.imagePath&&"object"===typeof e.imagePath?(r.append("images",e.imagePath),a.push(n)):"string"===typeof e.imagePath?a.push(e.imagePath):a.push(-1)})),r.append("variantsWithImage",JSON.stringify(a)),r.append("name",t.name),r.append("brand",t.brand),r.append("product_variant",JSON.stringify(t.product_variant)),t.reasons&&t.reasons.trim().length>0&&r.append("reasons",t.reasons.trim()),e.next=11,tr()({method:"patch",url:Bo+"/".concat(n),data:r,headers:{"Content-Type":"multipart/form-data"}}).catch((function(e){return e.response}));case 11:return c=e.sent,e.abrupt("return",c.data);case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),$o=Dc.c().shape({name:Dc.d().required("El campo nombre es requerido"),brand:Dc.d(),product_variant:Dc.a().of(Dc.c().shape({name:Dc.d().required("El nombre de la variante es requerido"),price:Dc.b().required("El precio de la variante es requerido").typeError("El precio de la variante debe ser un n\xfamero"),profitPercent:Dc.b().required("El % de ganancia de la variante es requerido").typeError("El % de ganancia de la variante debe ser un n\xfamero"),unitValue:Dc.b().required("El valor unidad de la variante es requerido").typeError("El valor unidad de la variante debe ser un n\xfamero"),imagePath:Dc.c().nullable(!0)}))}),Go=$o,Jo=t(537),Ko=function(e){var n=e.CRUDAction,t=e.formData,r=e.setFormData,a=e.product_variant,c=e.index,o=e.handleNestedChange,i=e.printError,s=e.hasError,u=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var a;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!==(a=t.product_variant.filter((function(e,t){return t!==n}))).length&&r(Object(J.a)(Object(J.a)({},t),{},{product_variant:a}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(K.jsxs)(zo,{children:[Object(K.jsxs)(Ho,{children:[Object(K.jsxs)(qo,{children:[Object(K.jsx)(nn,{onChange:function(e){return o("product_variant",c,"name",e.target.value)},placeholder:"* Nombre",value:a.name,allowDecimalSeparators:!0,capitalize:!0,errorborder:s("product_variant[".concat(c,"].name")),errormessage:i("product_variant[".concat(c,"].name")),active:!0}),i("product_variant[".concat(c,"].name"))]}),Object(K.jsxs)(Ao,{children:[Object(K.jsx)(nn,{onValueChange:function(e){return o("product_variant",c,"price",e.floatValue)},placeholder:"* Precio $",value:a.price,defaultValue:a.price,allowDecimalSeparators:!0,as:dr.a,errorborder:s("product_variant[".concat(c,"].price")),active:!0}),i("product_variant[".concat(c,"].price"))]}),Object(K.jsx)(xc,{}),Object(K.jsxs)(Lo,{children:[Object(K.jsx)(nn,{placeholder:"* Valor Unidad",onValueChange:function(e){return o("product_variant",c,"unitValue",e.floatValue)},value:a.unitValue,allowDecimalSeparators:!0,as:dr.a,errorborder:s("product_variant[".concat(c,"].unitValue")),active:!0}),i("product_variant[".concat(c,"].unitValue"))]})]}),Object(K.jsx)(Io,{children:Object(K.jsxs)(nn,{file:!0,type:"file",onChange:function(e){return o("product_variant",c,"imagePath",e.target.files[0])},placeholder:a.imagePath?a.imagePath.name:"Seleccione Imagen",children:[a.imagePath&&"edit"===n&&Object(K.jsx)(Vo,{url:a.imagePath}),a.imagePath&&"create"===n&&Object(K.jsx)(Vo,{url:a.imagePath&&URL.createObjectURL(a.imagePath)})]})}),i("product_variant[".concat(c,"].imagePath")),c!==t.product_variant.length-1&&Object(K.jsx)(Mo,{color:"red",children:Object(K.jsx)(an,{onClick:function(){return u(c)},children:Object(K.jsx)(Ut.a,{size:24})})}),c===t.product_variant.length-1&&Object(K.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"5px"},children:[Object(K.jsx)(Mo,{color:"red",children:Object(K.jsx)(an,{onClick:function(){return u(c)},children:Object(K.jsx)(Ut.a,{size:24})})}),Object(K.jsx)(Mo,{color:"green",children:Object(K.jsx)(an,{onClick:function(){var e=[].concat(Object(it.a)(t.product_variant),[{name:"",price:0,profitPercent:30,unitValue:"",imagePath:null}]);r(Object(J.a)(Object(J.a)({},t),{},{product_variant:e}))},children:Object(K.jsx)(Jo.a,{size:24})})})]})]})},Wo=function(e){var n=e.product,t=e.action,r=e.handleClose,a=e.onSubmit,c=Rc({initialState:Object(J.a)({name:"",brand:"",product_variant:[{name:"",price:0,profitPercent:30,unitValue:1,imagePath:null}]},n),action:t,createResource:Uo,editResource:Yo,schema:Go,onSubmitSuccess:a}),o=c.handleChange,i=c.handleNestedChange,s=c.handleSubmit,u=c.formData,l=c.setFormData,d=c.submitErrors,j=c.printError,b=c.hasError;return Object(K.jsxs)(uc,{onSubmit:s,children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:r,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"create"===t?"Crear producto":"Editar producto"})]}),Object(K.jsxs)(bc,{overflow:1,children:[Object(K.jsx)("h4",{children:"Informaci\xf3n General"}),Object(K.jsxs)(To,{children:[Object(K.jsxs)(Fo,{children:[Object(K.jsx)(nn,{placeholder:"* Tipo",onChange:o,name:"name",value:u.name,autoFocus:!0,capitalize:!0,errorborder:b("name")}),j("name")]}),Object(K.jsxs)(Fo,{children:[Object(K.jsx)(nn,{placeholder:"Marca",onChange:o,name:"brand",value:u.brand,capitalize:!0,errorborder:b("brand")}),j("brand")]})]}),Object(K.jsx)("h4",{children:"Variantes"}),Object(K.jsx)(_o,{children:u.product_variant.length>0&&u.product_variant.map((function(e,n){return Object(K.jsx)(Ko,{CRUDAction:t,formData:u,setFormData:l,product_variant:e,index:n,handleNestedChange:i,submitErrors:d,printError:j,hasError:b},n)}))})]}),Object(K.jsxs)(pc,{children:[Object(K.jsx)(vc,{children:j("undefined")}),Object(K.jsxs)(hc,{children:[Object(K.jsx)(Oc,{color:k,children:Object(K.jsxs)(an,{type:"submit",children:[Object(K.jsx)(yc.a,{size:24}),"Enviar"]})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsxs)(an,{onClick:r,children:[Object(K.jsx)(Sc.a,{size:24}),"Cancelar"]})})]})]})]})},Xo=v.a.div(Qr||(Qr=Object(m.a)(["\n    font-size: 19px;\n"]))),Qo=v.a.header(Zr||(Zr=Object(m.a)(["\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    text-align: center;\n\n    strong:first-child {\n        grid-column: 1/3;\n    }\n\n    > * {\n        border: 1px solid grey;\n        padding: 5px 0;\n    }\n"]))),Zo=v.a.div(ea||(ea=Object(m.a)(["\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n\n    text-align: center;\n    label:first-child {\n        grid-column: 1/3;\n    }\n\n    > * {\n        border: 1px solid grey;\n        padding: 5px 0;\n    }\n    input {\n        text-align: center;\n        font-size: 14px;\n    }\n"]))),ei=v.a.label(na||(na=Object(m.a)(["\n    text-transform: capitalize;\n"]))),ni=v.a.div(ta||(ta=Object(m.a)(["\n    flex-direction: row;\n    justify-content: space-between;\n"]))),ti=v.a.label(ra||(ra=Object(m.a)(["\n    padding: 5px 0;\n    span {\n        color: green;\n    }\n"]))),ri=v.a.label(aa||(aa=Object(m.a)(["\n    padding: 5px 0;\n"]))),ai=v.a.div(ca||(ca=Object(m.a)(["\n    flex-direction: row;\n    justify-content: center;\n"]))),ci=Object(v.a)(an)(oa||(oa=Object(m.a)(["\n    max-width: 50px;\n    min-width: 0;\n    background: red;\n"]))),oi=Object(v.a)(an)(ia||(ia=Object(m.a)(["\n    max-width: 50px;\n    min-width: 0;\n    background: ",";\n"])),k),ii=Object(v.a)(dr.a)(sa||(sa=Object(m.a)(["\n    max-width: 50px;\n    min-width: 0;\n"]))),si=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=Object(b.useRef)();Object(b.useEffect)((function(){t.current=e}),[e]),Object(b.useEffect)((function(){function e(){t.current()}if(null!==n){e();var r=setInterval(e,n);return function(){return clearInterval(r)}}}),[n])},ui=function(e){var n=e.value,t=e.onChange,r=e.onCtrlClick,a=Object(b.useState)({plus:!1,minus:!1}),c=Object(Jn.a)(a,2),o=c[0],i=c[1];si((function(){s()}),o.plus||o.minus?100:null);var s=function(){o.minus?n>=1&&(t(n-1),i(Object(J.a)(Object(J.a)({},o),{},{minus:!0}))):o.plus&&(t(Number(n)+1),i(Object(J.a)(Object(J.a)({},o),{},{plus:!0})))},u=function(e){if(e.ctrlKey){var n=e.target.name;r(n)}};return Object(K.jsxs)(ai,{children:[Object(K.jsx)(ci,{name:"minus",title:"Ctrl + Click para restar todo",onClick:u,onMouseDown:function(e){e.ctrlKey||i(Object(J.a)(Object(J.a)({},o),{},{minus:!0}))},onMouseUp:function(e){e.ctrlKey||i(Object(J.a)(Object(J.a)({},o),{},{minus:!1}))},onMouseLeave:function(e){e.ctrlKey||i(Object(J.a)(Object(J.a)({},o),{},{minus:!1}))},children:"-"}),Object(K.jsx)(ii,{value:n,min:0,onValueChange:function(e){var n=e.floatValue;return t(n)}}),Object(K.jsx)(oi,{name:"plus",title:"Ctrl + Click para sumar todo",onClick:u,onMouseDown:function(e){e.ctrlKey||i(Object(J.a)(Object(J.a)({},o),{},{plus:!0}))},onMouseUp:function(e){e.ctrlKey||i(Object(J.a)(Object(J.a)({},o),{},{plus:!1}))},onMouseLeave:function(e){e.ctrlKey||i(Object(J.a)(Object(J.a)({},o),{},{plus:!1}))},children:"+"})]})},li=function(e){var n=e.freeStock,t=void 0===n?0:n,r=e.currentStock,a=void 0===r?0:r,c=e.unitValue,o=void 0===c?0:c,i=e.value,s=void 0===i?0:i,u=(s-a)*o;u<0&&(u*=-1);var l=s,d=t;return 0===s?d=t+a*o:s<a?d=t+u:s>a&&t-u>=0?d=t-u:l=a,{newFreeStock:d,newProductStock:l}},di=function(e){var n=e.product,t=e.handleClose,r=e.onSubmit,a=Object(b.useState)(0),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Object(b.useState)(0),u=Object(Jn.a)(s,2),l=u[0],d=u[1],j=Rc({initialState:Object(J.a)({product_variant:[],reasons:"Ajuste de inventario por falta de existencia f\xedsica"},n),action:"edit",editResource:Yo,schema:Go,onSubmitSuccess:r}),p=j.formData,h=j.handleChange,f=j.handleNestedChange,x=j.handleSubmit,O=j.submitErrors,m=j.setSubmitErrors,v=j.printError;Object(b.useEffect)((function(){if(n){console.log(n);var e=n.product_variant.reduce((function(e,n){return e+n.stock*n.unitValue}),0);d(e)}}),[n]);return Object(K.jsxs)(uc,{onSubmit:function(e){e.preventDefault(),o>0&&0===p.reasons.trim().length?m(Object(J.a)(Object(J.a)({},O),{},{reasons:"Debe proveer las razones del cambio arbitrario del stock"})):x(e)},children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:t,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"Reasignar stock"})]}),Object(K.jsxs)(bc,{children:[Object(K.jsxs)(Xo,{children:[Object(K.jsxs)(ni,{children:[Object(K.jsx)(ri,{children:"Stock total: ".concat(l," unidades")}),Object(K.jsxs)(ti,{children:["Stock liberado: ",Object(K.jsx)("span",{children:"".concat(o.toFixed(4)," ")}),"unidades"]})]}),Object(K.jsxs)(Qo,{children:[Object(K.jsx)("strong",{children:"Nombre"}),Object(K.jsx)("strong",{children:"Stock"})]}),p&&p.product_variant.map((function(e,t){return Object(K.jsxs)(Zo,{children:[Object(K.jsx)(ei,{children:n.name+" "+e.name}),Object(K.jsx)(ui,{value:p.product_variant[t].stock,onChange:function(e){return function(e,n,t,r){r=parseFloat(r),isNaN(r)&&(r=0);var a=p.product_variant[n],c=a.stock,s=a.unitValue,u=li({freeStock:o,currentStock:c,unitValue:s,value:r}),l=u.newFreeStock,d=u.newProductStock;i(l),f(e,n,t,d)}("product_variant",t,"stock",e)},onCtrlClick:function(e){return function(e,n,t,r){var a=p.product_variant[n],c=a.stock,s=a.unitValue,u=0;"plus"===r&&(u=Math.floor(o/Number(a.unitValue))+Number(a.stock));var l=li({freeStock:o,currentStock:c,unitValue:s,value:u}),d=l.newFreeStock,j=l.newProductStock;f(e,n,t,j),i(d)}("product_variant",t,"stock",e)}})]},e.id)}))]}),o>0&&Object(K.jsx)("div",{children:Object(K.jsx)("textarea",{style:{minHeight:"50px"},value:p.reasons,placeholder:"Escriba las razones del cambio arbitrario del stock...",name:"reasons",onChange:h})})]}),Object(K.jsxs)(pc,{children:[Object(K.jsxs)(vc,{children:[v("freeStock"),v("stockLimit"),v("reasons")]}),Object(K.jsxs)(hc,{children:[Object(K.jsx)(Oc,{color:k,children:Object(K.jsxs)(an,{type:"submit",children:[Object(K.jsx)(yc.a,{size:24}),"Enviar"]})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsxs)(an,{onClick:t,children:[Object(K.jsx)(Sc.a,{size:24}),"Cancelar"]})})]})]})]})},ji=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=t?"?page=".concat(t):"?",c=r?"&filter=".concat(r):"",e.next=5,tr.a.get("/api/inventory"+a+c).catch((function(e){return e.response}));case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),bi=[{Header:"ID",accessor:"id"},{Header:"Producto",accessor:"product_variant.name"},{Header:"Estaba en",accessor:"old_stock"},{Header:"Qued\xf3 en",accessor:"new_stock"},{Header:"Raz\xf3n",accessor:"reasons"},{Header:"Fecha",accessor:"createdAt",Cell:function(e){return br(e.value)}}],pi=function(e){var n=e.onError,t=void 0===n?function(){}:n,r=Object(b.useMemo)((function(){return bi}),[]),a=Object(b.useState)(1),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Object(b.useState)(""),u=Object(Jn.a)(s,2),l=u[0],d=u[1],j=lr({page:o,filter:l,fetching:ji}),p=j.data,h=j.loading,f=j.error;j.fetchResource;return Object(b.useEffect)((function(){f&&t(f)}),[f,t]),Object(K.jsx)(Gt,{loading:h,data:p.records,columns:r,onPaginate:i,onFilter:d,filterPlaceholder:"Buscar por nombre de producto...",pageCount:p.pageCount,capitalize:[1],filterHeight:"30px"})},hi=function(e){var n=e.show,t=e.onClose,r=Object(b.useState)({}),a=Object(Jn.a)(r,2);a[0],a[1];return Object(K.jsx)(sc,{backdrop:!0,show:n,handleClose:t,children:Object(K.jsxs)(et,{width:"900px",children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:t,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"Movimientos arbitrarios"})]}),Object(K.jsx)(bc,{children:Object(K.jsx)(pi,{})})]})})},fi=t(92),xi=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.from,r=n.to,a=t&&r?"?from=".concat(t,"&to=").concat(r):"",e.next=4,tr.a.get("/api/reports/sale"+a).catch((function(e){return e.response}));case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Oi=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.get("/api/reports/sale/daily-sales/").catch((function(e){return e.response}));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mi=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.get("/api/reports/product/cost-fluctuation/"+n).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),vi=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.get("/api/reports/product/average-sales/"+n).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),gi=function(e){var n=e.productId,t=Object(b.useState)([]),r=Object(Jn.a)(t,2),a=r[0],c=r[1],o=Object(b.useState)(!1),i=Object(Jn.a)(o,2),s=i[0],u=i[1];return Object(b.useEffect)((function(){n&&function(){var e=Object(Gn.a)($n.a.mark((function e(){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,mi(n);case 3:t=e.sent,u(!1),t.id?c([t]):c([]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),Object(K.jsxs)(er,{children:[Object(K.jsx)(er.Header,{children:Object(K.jsx)("h3",{children:"Promedio costo mensual"})}),Object(K.jsxs)(er.Body,{children:[s&&"Cargando...",a.length>0&&!s&&Object(K.jsx)("div",{style:{height:"200px"},children:Object(K.jsx)(fi.a,{data:a,margin:{top:10,right:20,bottom:30,left:40},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},axisTop:null,axisRight:null,pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0})})]})]})},wi=function(e){var n=e.productId,t=Object(b.useState)([]),r=Object(Jn.a)(t,2),a=r[0],c=r[1],o=Object(b.useState)(!1),i=Object(Jn.a)(o,2),s=i[0],u=i[1];return Object(b.useEffect)((function(){n&&function(){var e=Object(Gn.a)($n.a.mark((function e(){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,vi(n);case 3:t=e.sent,u(!1),t.chart_data&&t.chart_data.id?c([t.chart_data]):c([]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),Object(K.jsxs)(er,{children:[Object(K.jsxs)(er.Header,{children:[Object(K.jsx)("h3",{children:"Promedio ventas semanal"}),Object(K.jsx)("small",{children:"\xdaltimos 3 meses"})]}),Object(K.jsxs)(er.Body,{children:[s&&"Cargando...",a.length>0&&!s&&Object(K.jsx)("div",{style:{height:"200px"},children:Object(K.jsx)(fi.a,{data:a,margin:{top:10,right:40,bottom:30,left:40},xScale:{type:"point"},yScale:{type:"linear",min:0,stacked:!1},axisLeft:{format:function(e){return Math.floor(e)===e&&e}},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},enablePointLabel:!0,enableGridX:!0,enableGridY:!0,useMesh:!0,tooltip:function(e){var n=e.point;return Object(K.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"auto auto",gap:"2px",background:n.borderColor,padding:"5px"},children:[Object(K.jsx)("label",{children:"Semana: "}),Object(K.jsx)("span",{children:n.data.x}),Object(K.jsx)("label",{children:"Vendidos: "}),Object(K.jsx)("span",{children:n.data.y})]})}})})]})]})},yi=function(){var e=Object(b.useState)(null),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(null),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Bc(null),u=s.notification,l=s.showNotification;Object(b.useEffect)((function(){"refresh"===o&&r(null)}),[o]);var d=function(e){"ToolbarCreate"===e.currentTarget.name?i("create"):"ToolbarEdit"===e.currentTarget.name?i("edit"):"ToolbarDelete"===e.currentTarget.name?i("delete"):"reassignStock"===e.currentTarget.name?i("reassignStock"):"arbitraryMoves"===e.currentTarget.name&&i("arbitraryMoves")},j=function(e){l("success",e,2e3),i("refresh")},p=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ro(t.id);case 2:return n=e.sent,i("refresh"),r(null),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(Kn,{children:[Object(K.jsxs)(Wn,{children:[Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Qn,{children:Object(K.jsxs)(cc,{recordSelected:!!t,onCreate:d,onEdit:d,onDelete:d,children:[Object(K.jsx)(nc,{color:R,children:Object(K.jsxs)(an,{name:"arbitraryMoves",onClick:d,children:[Object(K.jsx)(zn.a,{size:"24"}),"Movimientos Arbitrarios"]})}),Object(K.jsx)(nc,{color:F,children:Object(K.jsxs)(an,{name:"reassignStock",onClick:d,disabled:!t,children:[Object(K.jsx)(zn.a,{size:"24"}),"Reasignar Stock"]})})]})}),Object(K.jsx)(Zn,{children:Object(K.jsx)(No,{shouldRefresh:"refresh"===o,selectedRows:t,onProductSelect:r,showNotification:l})}),Object(K.jsxs)(sc,{show:o&&"refresh"!==o,handleClose:function(){i(null)},children:[("create"===o||"edit"===o)&&Object(K.jsx)(et,{width:"650px",children:Object(K.jsx)(Wo,{product:"edit"===o&&t&&t.product,action:o,handleClose:function(){return i(null)},onSubmit:j})}),"reassignStock"===o&&Object(K.jsx)(et,{width:"500px",top:"100px",children:Object(K.jsx)(di,{product:t&&t.product,handleClose:function(){return i(null)},onSubmit:j})}),"delete"===o&&Object(K.jsx)(nt,{children:Object(K.jsx)(Lc,{showNotification:l,handleClose:function(){return i(null)},callback:p})})]}),"arbitraryMoves"===o&&Object(K.jsx)(hi,{show:!0,onClose:function(){return i(null)}})]}),Object(K.jsxs)(ot,{show:t,handleClose:function(){return r(null)},children:[Object(K.jsx)(gi,{productId:t&&t.id}),Object(K.jsx)(wi,{productId:t&&t.id})]})]}),u&&Object(K.jsx)(Un,{type:u.type,children:u.text})]})},Si="/api/supplyings",Ci=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o,i,s;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=n.count,c=t?"?page=".concat(t):"?",o=r?"&filter=".concat(r):"",i=a?"&count=".concat(a):"",e.next=6,tr.a.get(Si+c+i+o).catch((function(e){return e.response}));case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ki=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.post(Si,n).catch((function(e){return e.response}));case 2:return t=e.sent,console.log(t),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ei=function(){var e=Object(Gn.a)($n.a.mark((function e(n,t){var r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.patch(Si+"/".concat(n),t).catch((function(e){return e.response}));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Pi=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.delete(Si+"/".concat(n)).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ri=[{Header:"ID",accessor:"id"},{Header:"Proveedor",accessor:"supplier.name"},{Header:"Producto",accessor:"product_variant.name"},{Header:"Precio",accessor:"buyPrice",Cell:function(e){var n=e.value;return"$".concat(n)}},{Header:"Cantidad",accessor:"quantity"},{Header:"Creado",accessor:"createdAt",Cell:function(e){return br(e.value)}}],Di=function(e){var n=e.onSupplyingSelect,t=e.selectedRows,r=e.shouldRefresh,a=e.showNotification,c=Object(b.useState)(1),o=Object(Jn.a)(c,2),i=o[0],s=o[1],u=Object(b.useState)(""),l=Object(Jn.a)(u,2),d=l[0],j=l[1],p=Object(b.useMemo)((function(){return Ri||[]}),[]),h=lr({page:i,filter:d,fetching:Ci}),f=h.data,x=h.loading,O=h.error,m=h.fetchResource;return Object(b.useEffect)((function(){r&&m()}),[r,m]),Object(b.useEffect)((function(){O&&a("error",O.message,3e3)}),[O,a]),Object(K.jsx)(Gt,{selectedRows:t,onRowSelect:n,loading:x,data:f.records,columns:p,onFilter:j,filterPlaceholder:"Buscar por id, proveedor, producto.",onPaginate:s,pageCount:f.pageCount,capitalize:[1,2]})},Ni=Dc.c().shape({product_variant_id:Dc.b().required("El campo producto es requerido").typeError("Debe elegir un producto"),supplierId:Dc.b().required("El campo proveedor es requerido").typeError("Debe elegir un proveedor"),buyPrice:Dc.b().required("El campo precio de compra es requerido").typeError("El precio de compra debe tener un valor num\xe9rico"),quantity:Dc.b().required("El campo cantidad es requerido").typeError("La cantidad debe tener un valor num\xe9rico")}),Ti=v.a.div(ua||(ua=Object(m.a)(["\n    div {\n        flex-direction: row;\n    }\n    input,\n    div {\n        text-transform: capitalize;\n    }\n"]))),_i=(v.a.div(la||(la=Object(m.a)(["\n    display: ",";\n    position: absolute;\n    padding: 5px;\n    top: 100%;\n    max-height: 100px;\n    width: 100%;\n    overflow-y: auto;\n    border-radius: 4px;\n    box-shadow: rgba(101 119 134 / 20%) 0px 0px 15px, rgba(101 119 134 / 25%) 0px 0px 3px 1px;\n    background: white;\n"])),(function(e){return e.shouldOpen?"flex":"none"})),v.a.option(da||(da=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding: 5px 0;\n\n    :focus {\n        background: blue;\n        color: white;\n    }\n"]))),t(297)),zi=t(295),Hi=t.n(zi),Ii=function(e){var n=e.innerRef,t=e.size,r=e.styles,a=e.isError,c=e.value,o=e.autoFocus,i=e.onSelect,s=e.placeholder,u=e.isDisabled,l=e.loadOptions,d=e.onCreateOption,j=e.defaultOptions,b=void 0===j||j,p=e.cacheOptions,h=void 0===p||p;return Object(K.jsx)(Ti,{children:Object(K.jsx)(_i.a,{styles:Object(J.a)({menu:function(e){return Object(J.a)(Object(J.a)({},e),{},{flexDirection:"column !important"})},menuList:function(e){return Object(J.a)(Object(J.a)({},e),{},{flexDirection:"column !important"})},container:function(e){return Object(J.a)({},e)},control:function(e,n){return Object(J.a)(Object(J.a)({},e),{},{width:"100%",boxShadow:n.selectProps.isError?"0 0 0 2px red":n.isFocused?"0 0 0 2px "+R:"0 0 0 1px "+_,color:R+" !important",border:"none",padding:"medium"===t?"5px 0px":"large"===t?"10px 0px":"auto"})},option:function(e){return Object(J.a)({},e)}},r),loadOptions:Hi()((function(e,n){return l(e,n)}),150),defaultOptions:b,cacheOptions:h,value:c,autoFocus:o,placeholder:s,isDisabled:u,onChange:i,ref:n,loadingMessage:function(){return"Cargando..."},onCreateOption:d,isClearable:!0,isError:a})})},Fi=function(e){var n=e.value,t=e.autoFocus,r=e.onSelect,a=Object(b.useState)(),c=Object(Jn.a)(a,2),o=c[0],i=c[1];Object(b.useEffect)((function(){n&&i({label:n.name,value:n})}),[n]);var s=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ro({page:0,filter:n});case 2:if(!((t=e.sent)&&t.records.length>0)){e.next=6;break}return r=t.records.map((function(e){return{label:e.name,value:e}})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(K.jsx)(Ii,{loadOptions:s,placeholder:"Proveedor",value:o,onSelect:function(e,n){var t=n.action;"select-option"===t?(i({label:e.label,value:e.value}),r(e.value,t)):(i(null),r(null,t))},autoFocus:t})},Mi=function(e){var n=e.hideOutOfStock,t=e.innerRef,r=e.value,a=e.autoFocus,c=void 0!==a&&a,o=e.isDisabled,i=e.showPriceOnName,s=void 0!==i&&i,u=e.onSelect,l=Object(b.useState)(),d=Object(Jn.a)(l,2),j=d[0],p=d[1];Object(b.useEffect)((function(){p(r?{label:r.name,value:r}:null)}),[r]);var h=function(){var e=Object(Gn.a)($n.a.mark((function e(t){var r,a;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko({page:0,filter:t});case 2:if(!((r=e.sent)&&r.records.length>0)){e.next=7;break}return n&&(r.records=r.records.filter((function(e){return e.stock>0}))),a=r.records.map((function(e){var n=e.name;return s&&(n="".concat(e.name," - ").concat(e.converted_price.PRICE_VES," Bs")),{key:e.id,label:n,value:e}})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(K.jsx)(Ii,{loadOptions:h,placeholder:"Buscar...",value:j,onSelect:function(e,n){var t=n.action;"select-option"===t?(p({label:e.value.name,value:e.value}),u(e.value,t)):"clear"===t&&(p(null),u(null,t))},autoFocus:c,innerRef:t,isDisabled:o,styles:{option:function(e,n){var t=n.data.value.stock>0?"green":"red";return Object(J.a)(Object(J.a)({},e),{},{color:t})}}})},Vi=[{Header:"Nombre",accessor:"product_variant.name"},{Header:"$",accessor:"buyPrice"},{Header:"Cantidad",accessor:"quantity"},{Header:"Fecha",accessor:"createdAt",Cell:function(e){var n=e.value;return Object(K.jsx)("span",{title:br(n),children:br(n)})}}],qi=function(e){var n=e.supplyings,t=e.loading,r=Object(b.useMemo)((function(){return Vi}),[]);return Object(K.jsx)(Gt,{loading:t,data:n,columns:r,capitalize:[0]})},Ai=function(e){var n=e.supplying,t=e.action,r=e.handleClose,a=e.onSubmit,c=Rc({initialState:{supplierId:null,product_variant_id:null,buyPrice:null,quantity:null},action:t,createResource:ki,editResource:Ei,schema:Ni,onSubmitSuccess:a}),o=c.handleNumericInput,i=c.loading,s=c.handleSubmit,u=c.formData,l=c.setFormData,d=c.printError,j=c.hasError,p=Object(b.useState)(null),h=Object(Jn.a)(p,2),f=h[0],x=h[1],O=Object(b.useState)(null),m=Object(Jn.a)(O,2),v=m[0],g=m[1],w=Object(b.useState)(!1),y=Object(Jn.a)(w,2),S=y[0],C=y[1],E=Object(b.useState)(null),P=Object(Jn.a)(E,2),R=P[0],D=P[1],N=Object(b.useState)(!1),T=Object(Jn.a)(N,2),_=T[0],z=T[1],H=Object(b.useRef)(null),I=Object(b.useRef)(null),F=Object(b.useRef)(null),M=Object(b.useRef)(null);Object(b.useEffect)((function(){n&&(l({id:n.id,supplierId:n.supplier.id,product_variant_id:n.product_variant.id,buyPrice:n.buyPrice,quantity:n.quantity}),g(n.product_variant),x(n.supplier))}),[n,l]);var V=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),z(!0),e.next=4,Po({page:1,count:5,product_variant_id:n});case 4:return t=e.sent,D(t.records),C(!1),z(!1),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),q=function(){var e=Object(Gn.a)($n.a.mark((function e(n,r){var a,c;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S||"create"!==t||"select-option"!==r){e.next=8;break}return e.next=3,V(n.id);case 3:(a=e.sent)&&a.records.length>0?(c=a.records[0],l(Object(J.a)(Object(J.a)({},u),{},{product_variant_id:n.id,buyPrice:c.buyPrice,quantity:c.quantity})),setTimeout((function(){return M.current.focus()}))):(l(Object(J.a)(Object(J.a)({},u),{},{product_variant_id:n.id,buyPrice:"",quantity:""})),setTimeout((function(){return F.current.focus()}))),g(n),e.next=9;break;case 8:l(Object(J.a)(Object(J.a)({},u),{},{product_variant_id:n?n.id:null}));case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object(K.jsxs)(uc,{onSubmit:function(e){e.preventDefault(),setTimeout((function(){return I.current.focus()})),s(e)},children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:r,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"create"===t?"Crear abastecimiento":"Editar abastecimiento"})]}),Object(K.jsxs)(bc,{children:[Object(K.jsxs)(xc,{children:[Object(K.jsx)(Fi,{innerRef:H,onSelect:function(e,n){x(e),l(Object(J.a)(Object(J.a)({},u),{},{supplierId:e?e.id:null})),I.current.focus()},value:f,autoFocus:!0}),d("supplierId")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)(Mi,{onSelect:q,isDisabled:_,innerRef:I,value:v}),d("product_variant_id")]}),Object(K.jsxs)(fc,{children:[Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{innerRef:F,onValueChange:function(e){var n=e.floatValue;return o(n,"buyPrice")},value:u.buyPrice,placeholder:"Precio/Unidad",prefix:"$ ",as:dr.a,errorborder:j("buyPrice"),required:!0}),d("buyPrice")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{innerRef:M,onValueChange:function(e){var n=e.floatValue;return o(n,"quantity")},value:u.quantity,placeholder:"Cantidad",as:dr.a,errorborder:j("quantity"),required:!0}),d("quantity")]})]}),v&&Object(K.jsxs)(gc,{children:[Object(K.jsx)("h4",{children:"Abastecimientos recientes"}),Object(K.jsx)(qi,{supplyings:R||[],loading:S})]})]}),Object(K.jsxs)(pc,{children:[Object(K.jsx)(vc,{children:d("undefined")}),Object(K.jsxs)(hc,{children:[Object(K.jsx)(Oc,{color:k,children:Object(K.jsxs)(an,{loading:i,type:"submit",children:[Object(K.jsx)(yc.a,{size:24}),"Enviar"]})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsxs)(an,{onClick:r,children:[Object(K.jsx)(Sc.a,{size:24}),"Cancelar"]})})]})]})]})},Li=function(){var e=Object(b.useState)(null),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(null),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Bc(),u=s.notification,l=s.showNotification;function d(e){"ToolbarCreate"===e.currentTarget.name?i("create"):"ToolbarEdit"===e.currentTarget.name?i("edit"):"ToolbarDelete"===e.currentTarget.name&&i("delete")}var j=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(t.id);case 2:(n=e.sent).error?(l("error",n.error.message),i(null)):p();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){i("refresh"),i(null)};return Object(K.jsxs)(Kn,{children:[Object(K.jsx)(Qn,{children:Object(K.jsx)(cc,{onCreate:d,onEdit:d,onDelete:d,recordSelected:t})}),Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Zn,{children:Object(K.jsx)(Di,{onSupplyingSelect:r,selectedRows:t,shouldRefresh:"refresh"===o,showNotification:l})}),Object(K.jsxs)(sc,{backdrop:!0,show:!!o,handleClose:function(){return i(null)},children:[("create"===o||"edit"===o||"refresh"===o)&&Object(K.jsx)(et,{children:Object(K.jsx)(Ai,{onSubmit:function(e){l("success",e,2e3);var n=o;i("refresh"),i(n)},action:o,supplying:"edit"===o&&t,handleClose:function(){return i(null)}})}),"delete"===o&&Object(K.jsx)(nt,{children:Object(K.jsx)(Lc,{showNotification:l,handleClose:function(){return i(null)},callback:j})})]})]}),u&&Object(K.jsx)(Un,{type:u.type,children:u.text})]})},Bi=v.a.div(ja||(ja=Object(m.a)(["\n    height: 100%;\n    border: 1px solid black;\n    overflow-y: auto;\n"]))),Ui=v.a.div(ba||(ba=Object(m.a)(["\n    flex: 0 0 40%;\n    border-top: 1px solid black;\n\n    @media (min-width: ",") {\n        flex-direction: row;\n        flex: 0 0 auto;\n        max-height: 25%;\n    }\n"])),y),Yi=v.a.div(pa||(pa=Object(m.a)(["\n    flex: 1 0 60%;\n    overflow: auto;\n    max-height: 100%;\n"]))),$i=v.a.div(ha||(ha=Object(m.a)(["\n    flex: 0 0 auto;\n    border-bottom: 1px solid black;\n    gap: 5px;\n    padding-bottom: 10px;\n\n    h3 {\n        margin: 5px 0 0 0;\n    }\n\n    @media (min-width: ",") {\n        padding: 10px;\n    }\n\n    @media (min-width: ",") {\n        flex: 1 0 50%;\n        border-bottom: none;\n        border-right: 1px solid black;\n    }\n"])),g,y),Gi=v.a.div(fa||(fa=Object(m.a)(["\n    flex: 1 1 50%;\n\n    border-top: 1px solid black;\n    gap: 5px;\n    overflow: auto;\n    padding-bottom: 10px;\n\n    h3 {\n        margin: 5px 0 0 0;\n    }\n\n    @media (min-width: ",") {\n        padding: 10px;\n    }\n\n    @media (min-width: ",") {\n        border-top: none;\n    }\n"])),g,y),Ji=v.a.div(xa||(xa=Object(m.a)(["\n    flex: 0 1 auto;\n    flex-direction: row;\n    align-items: flex-end;\n    justify-content: center;\n    margin-bottom: 5px;\n    width: 100%;\n\n    font-size: 16px;\n    font-weight: 800;\n"]))),Ki=v.a.div(Oa||(Oa=Object(m.a)(["\n    flex: 1;\n    display: none;\n\n    @media (min-width: ",") {\n        display: flex;\n    }\n"])),g),Wi=v.a.div(ma||(ma=Object(m.a)(["\n    flex: 1;\n    display: none;\n\n    @media (min-width: ",") {\n        display: flex;\n    }\n"])),g),Xi=v.a.div(va||(va=Object(m.a)(["\n    flex: 1;\n\n    overflow-y: auto;\n\n    border-top: 1px solid black;\n\n    @media (min-width: ",") {\n        flex-direction: row;\n    }\n"])),g),Qi=v.a.div(ga||(ga=Object(m.a)([""]))),Zi=v.a.div(wa||(wa=Object(m.a)(["\n    flex: 1 1 100%;\n    overflow: auto;\n\n    margin-bottom: 10px;\n\n    td {\n        padding: 5px;\n    }\n"]))),es=v.a.div(ya||(ya=Object(m.a)(["\n    flex-direction: row-reverse;\n    justify-content: space-between;\n\n    button {\n        padding: 5px 10px;\n        color: white;\n        font-size: 16px;\n        background: ",";\n    }\n"])),(function(e){return e.color||"transparent"})),ns=v.a.div(Sa||(Sa=Object(m.a)(["\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin: 5px 0;\n\n    button {\n        padding: 10px;\n    }\n"]))),ts=v.a.fieldset(Ca||(Ca=Object(m.a)(["\n    display: grid;\n    grid-template-columns: 1fr auto;\n\n    place-items: end;\n\n    padding: 2px;\n    min-height: 100%;\n    width: 100%;\n\n    legend {\n        color: ",";\n    }\n\n    label {\n        padding: 5px;\n    }\n\n    @media (min-width: ",") {\n        font-size: 22px;\n    }\n"])),k,w),rs=function(e){var n=e.size,t=e.innerRef,r=e.value,a=e.autoFocus,c=e.onSelect,o=e.onCreate,i=Object(b.useState)(),s=Object(Jn.a)(i,2),u=s[0],l=s[1];Object(b.useEffect)((function(){r&&l({label:r.name,value:r})}),[r]);var d=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ar({page:1,filter:n});case 2:if(!((t=e.sent)&&t.records.length>0)){e.next=6;break}return r=t.records.map((function(e){return{key:e.id,label:"".concat(e.name," - ").concat(Number(e.cedula).toLocaleString()),value:e}})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(K.jsx)(Ii,{onCreateOption:o,innerRef:t,loadOptions:d,defaultOptions:!1,cacheOptions:!1,placeholder:"Cliente",value:u,onSelect:function(e,n){var t=n.action;"select-option"===t?(l({label:e.value.name,value:r}),c(e.value,t)):"clear"===t&&(l(null),c(null,t))},autoFocus:a,isError:u&&u.value.sale&&u.value.sale.length>0,size:n})},as=[{Header:"Producto",accessor:function(e){return e.name||e.product_variant.name},minWidth:10,maxWidth:20,width:15},{Header:"Precio",accessor:function(e){return Object(K.jsx)(dr.a,{decimalSeparator:",",thousandSeparator:".",suffix:" Bs",displayType:"text",value:e.converted_price.PRICE_VES})}},{Header:"Cantidad",accessor:"quantity"},{Header:"Total",accessor:function(e){return Object(K.jsx)(dr.a,{decimalSeparator:",",thousandSeparator:".",suffix:" Bs",displayType:"text",value:Number((e.converted_price.PRICE_VES*e.quantity).toFixed(2))})}}],cs=function(e){var n=e.onDeleteRow,t=e.onProductSelect,r=e.selectedRows,a=e.onFilter,c=e.maxHeight,o=e.products,i=void 0===o?[]:o,s=Object(b.useMemo)((function(){return as}),[]);return Object(K.jsx)(Gt,{onRowSelect:t,selectedRows:r,async:!1,data:i,columns:s,capitalize:[0],theme:"dark",onDeleteRow:n,onFilter:a,filterPlaceholder:"Buscar...",maxHeight:c})},os=v.a.form(ka||(ka=Object(m.a)(["\n    display: grid;\n    grid-template-columns: 1fr 10% auto;\n    text-align: center;\n    gap: 10px;\n    padding: 10px;\n\n    button {\n        border-radius: 5px;\n        color: white;\n        font-size: 16px;\n        background: ",";\n    }\n\n    h4 {\n        margin: 0;\n    }\n"])),k),is=Object(v.a)(dr.a)(Ea||(Ea=Object(m.a)(["\n    border-radius: 5px;\n    border: 1px solid grey;\n\n    :focus-visible {\n        outline: none;\n        box-shadow: 0 0 0 2px ",";\n    }\n"])),R),ss=Object(b.createContext)(null),us=function(e){var n=e.children,t=Object(b.useState)(),r=Object(Jn.a)(t,2),a=r[0],c=r[1];return Object(K.jsx)(ss.Provider,{value:{currencyRates:a,setCurrencyRates:c},children:n})},ls="/api/currencyRates",ds=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.get(ls).catch((function(e){return e.response}));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),js=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.patch("".concat(ls,"/").concat(n.currency),n).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),bs=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(b.useContext)(ss),t=n.currencyRates,r=n.setCurrencyRates,a=Bc(),c=a.notification,o=a.showNotification,i=function(){return window.localStorage.getItem("dolarValue")},s=Object(b.useCallback)(function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,js(n);case 2:(t=e.sent).error?o("error",t.error.message):r(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[r,o]),u=Object(b.useCallback)(Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ds();case 2:(n=e.sent).error?o("error",n.error.message):r(n);case 4:case"end":return e.stop()}}),e)}))),[r,o]);return Object(b.useEffect)((function(){e&&u()}),[u,e]),{currencyRates:t,notification:c,showNotification:o,fetchCurrencyRates:u,updateCurrencyRate:s,getCurrencyRatesFromLocalStorage:i}},ps=function(e){var n=e.productToEdit,t=e.productSearchRef,r=e.onSubmit,a=bs(!1).currencyRates,c=Object(b.useState)(!1),o=Object(Jn.a)(c,2),i=o[0],s=o[1],u=Object(b.useState)(null),l=Object(Jn.a)(u,2),d=l[0],j=l[1],p=Object(b.useState)(1),h=Object(Jn.a)(p,2),f=h[0],x=h[1],O=Bc(),m=O.notification,v=O.showNotification,g=Object(b.useRef)(null);Object(b.useEffect)((function(){n?(j(n),x(n.quantity),g.current.focus()):(j(null),x(1),t.current.focus())}),[n,t]);var w=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var c,o;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a){e.next=4;break}return v("error","Debe asignar el valor del dolar"),e.abrupt("return");case 4:if(d&&f){e.next=7;break}return v("error","Producto o cantidad vacia"),e.abrupt("return");case 7:return e.next=9,Eo(d.id);case 9:if(c=e.sent,!((o=Number(c.stock))<f)){e.next=14;break}return v("error","No hay suficiente stock. Queda(n) ".concat(o," producto(s).")),e.abrupt("return");case 14:i||(s(!0),r(Object(J.a)(Object(J.a)({},c),{},{name:c.name,price:Number(c.price),quantity:f,profitPercent:Number(c.profitPercent),stock:Number(c.stock)})),s(!1),x(1),j(null),t.current.focus());case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(K.jsxs)(os,{onSubmit:w,children:[Object(K.jsx)("h4",{children:"Producto"}),Object(K.jsx)("h4",{children:"Cantidad"}),Object(K.jsx)("label",{}),Object(K.jsx)(Mi,{hideOutOfStock:!0,innerRef:t,value:d,onSelect:function(e,n){j(e),"select-option"===n&&g.current.focus()},showPriceOnName:!0,autoFocus:!0}),Object(K.jsx)(is,{style:{textAlign:"center",fontSize:"16px"},onFocus:function(e){setTimeout((function(){return e.target.select()}))},getInputRef:function(e){return g.current=e},onValueChange:function(e){return x(e.floatValue)},value:f}),Object(K.jsx)(an,{loading:i,type:"submit",children:"Enviar"}),m&&Object(K.jsx)(Un,{type:m.type,children:m.text})]})},hs=v.a.div(Pa||(Pa=Object(m.a)([""]))),fs=v.a.div(Ra||(Ra=Object(m.a)(["\n    max-height: 400px;\n    overflow: auto;\n"]))),xs=(v.a.div(Da||(Da=Object(m.a)(["\n    flex: 1 0 75px;\n    flex-direction: row;\n    justify-content: flex-end;\n    padding: 10px 0;\n"]))),function(e){var n=e.selectedRows,t=e.onDebtSelect,r=e.onShowDetailsClick,a=e.data,c=Object(b.useMemo)((function(){return[{Header:"ID",accessor:"id",Cell:function(e){return Object(K.jsx)("button",{style:{cursor:"pointer"},onClick:function(){return r(e.row.original)},children:e.value})}},{Header:"Deuda Bs",accessor:"debt.converted_amount.PAYMENT_VES",Cell:function(e){return e.value.toLocaleString()+" Bs"}},{Header:"Creado",accessor:"createdAt",Cell:function(e){return br(e.value)}}]}),[r]);return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(Gt,{selectedRows:n,onRowSelect:t,data:a,columns:c,capitalize:[1],async:!1,multiSelect:!0})})}),Os=v.a.div(Na||(Na=Object(m.a)(["\n    td {\n        padding: 5px;\n    }\n    max-height: 150px;\n    overflow: auto;\n"]))),ms=v.a.div(Ta||(Ta=Object(m.a)(["\n    flex-direction: row;\n    max-height: 160px;\n    border-bottom: 1px solid ",";\n    padding-bottom: 10px;\n"])),I),vs=v.a.fieldset(_a||(_a=Object(m.a)(["\n    width: 50%;\n    padding: 5px;\n    overflow: auto;\n"]))),gs=v.a.fieldset(za||(za=Object(m.a)(["\n    display: grid;\n    width: 50%;\n    padding: 5px;\n    overflow: auto;\n"]))),ws=v.a.div(Ha||(Ha=Object(m.a)(["\n    flex-direction: row;\n    place-content: space-around;\n    min-height: 100%;\n\n    border-top: 1px solid ",";\n"])),I),ys=(v.a.div(Ia||(Ia=Object(m.a)(["\n    flex-direction: row;\n"]))),v.a.fieldset(Fa||(Fa=Object(m.a)(["\n    display: grid;\n    grid-template-columns: auto auto;\n    gap: 5px;\n    width: 100%;\n\n    legend {\n        color: ",";\n        font-size: 22px;\n    }\n"])),k)),Ss=v.a.div(Ma||(Ma=Object(m.a)(["\n    place-items: end;\n"]))),Cs=v.a.div(Va||(Va=Object(m.a)(["\n    flex-direction: row;\n    gap: 10px;\n    place-items: start;\n"]))),ks=(v.a.div(qa||(qa=Object(m.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    align-content: end;\n"]))),v.a.div(Aa||(Aa=Object(m.a)(["\n    display: grid;\n    grid-template-columns: auto auto;\n\n    justify-content: start;\n\n    label,\n    span {\n        padding: 5px;\n    }\n\n    label {\n        font-weight: bold;\n    }\n"])))),Es=function(e){var n=e.name,t=void 0===n?"":n,r=e.cedula,a=void 0===r?"":r,c=e.phoneNumber,o=void 0===c?"":c;return Object(K.jsxs)(ks,{children:[Object(K.jsx)("label",{children:"Nombre:"}),Object(K.jsx)("span",{children:t||"An\xf3nimo"}),Object(K.jsx)("label",{children:"C\xe9dula:"}),Object(K.jsx)("span",{children:a&&Number(a).toLocaleString()||"An\xf3nimo"}),Object(K.jsx)("label",{children:"Tel\xe9fono:"}),o&&Object(K.jsx)(dr.a,{displayType:"text",value:o,format:"( #### ) - ### - ####"})||Object(K.jsx)("span",{children:"An\xf3nimo"})]})},Ps=function(e){var n=e.paymentList,t=void 0===n?[]:n,r=e.onChange,a=e.value;return Object(K.jsx)("select",{value:a,onChange:r,children:t.map((function(e,n){return Object(K.jsx)("option",{value:e.id,children:e.display_name},e.id)}))})},Rs=v.a.button(La||(La=Object(m.a)(["\n    border: none;\n    color: white;\n\n    place-content: center;\n    place-items: center;\n\n    padding: 0 5px;\n    cursor: pointer;\n\n    :hover {\n        background: red !important;\n    }\n"]))),Ds=v.a.div(Ba||(Ba=Object(m.a)(["\n    flex: 0 1 100%;\n\n    input {\n        text-align: right;\n    }\n\n    select {\n        height: 100%;\n    }\n"]))),Ns=v.a.div(Ua||(Ua=Object(m.a)(["\n    flex: 0 1 auto;\n\n    input {\n        text-align: right;\n    }\n"]))),Ts=v.a.div(Ya||(Ya=Object(m.a)(["\n    select {\n        height: 100%;\n        cursor: pointer;\n    }\n\n    select:disabled {\n        opacity: 1;\n    }\n"]))),_s=v.a.div($a||($a=Object(m.a)(["\n    place-content: center;\n    place-items: center;\n    padding: 0 5px;\n    pointer-events: none;\n"]))),zs=v.a.div(Ga||(Ga=Object(m.a)(["\n    flex-direction: row;\n    * {\n        border-radius: 0;\n    }\n\n    "," > select, ",", "," {\n        color: white;\n        ","\n    }\n"])),Ts,Rs,_s,(function(e){return e.ischange?{background:F}:{background:k}})),Hs={Selector:Ps,POS:function(e){var n=e.inputValue,t=e.onChange,r=e.onDelete,a=e.disabled;return Object(K.jsxs)(zs,{ischange:n.isChange,children:[Object(K.jsx)(Rs,{onClick:r,children:"POS"}),Object(K.jsx)(Ds,{children:Object(K.jsx)(nn,{value:n.amount||"",onValueChange:function(e){var n=e.value;return t&&t(n,"amount")},placeholder:"Monto",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,isNumericString:!0,disabled:a,as:dr.a})}),Object(K.jsx)(_s,{children:"Bs"})]})},Transfer:function(e){var n=e.inputValue,t=e.onChange,r=e.onDelete,a=e.disabled;return Object(K.jsxs)(zs,{ischange:n.isChange,children:[Object(K.jsx)(Rs,{onClick:r,children:"Transfer"}),Object(K.jsx)(Ds,{children:Object(K.jsx)(nn,{value:n.amount||"",onValueChange:function(e){var n=e.value;return t&&t(n,"amount")},placeholder:"Monto",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,isNumericString:!0,disabled:a,autoFocus:!0,as:dr.a})}),Object(K.jsx)(Ns,{children:Object(K.jsx)(nn,{value:n.transaction_code,onValueChange:function(e){var n=e.value;return t&&t(n,"transaction_code")},placeholder:"COD",disabled:a,as:dr.a})}),Object(K.jsx)(Ts,{children:Object(K.jsxs)("select",{onChange:function(e){return t&&t(e.target.value,"bankId")},value:n.bankId,disabled:a,children:[Object(K.jsx)("option",{value:"1",children:"BDV"}),Object(K.jsx)("option",{value:"2",children:"BBVA"})]})})]})},Cash:function(e){var n=e.inputValue,t=e.onChange,r=e.onDelete,a=e.disabled,c=bs().currencyRates;return Object(K.jsxs)(zs,{ischange:n.isChange,children:[Object(K.jsx)(Rs,{onClick:r,children:"Cash"}),Object(K.jsx)(Ds,{children:Object(K.jsx)(nn,{value:n.amount||"",onValueChange:function(e){var n=e.value;return t&&t(n,"amount")},placeholder:n.currency&&"USD"===n.currency?"Monto - ".concat(c&&c.PAYMENT_VES&&c.PAYMENT_VES.value?((n.amount||0)*c.PAYMENT_VES.value).toLocaleString():""," Bs"):"Monto",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,isNumericString:!0,disabled:a,autoFocus:!0,as:dr.a})}),Object(K.jsx)(Ts,{children:Object(K.jsxs)("select",{value:n.currency,onChange:function(e){return t(e.target.value,"currency")},disabled:a,children:[Object(K.jsx)("option",{value:"VES",children:"Bs"}),Object(K.jsx)("option",{value:"USD",children:"USD"})]})})]})},Paypal:"div"},Is=v.a.div(Ja||(Ja=Object(m.a)([""]))),Fs=(v.a.div(Ka||(Ka=Object(m.a)([""]))),function(e){var n=e.paymentInfo,t=void 0===n?[]:n;return Object(K.jsx)(Is,{style:{gap:"1px",marginTop:"0"},children:t.map((function(e){return p.a.createElement(Hs[e.payment_method_name||e.name],{key:e.id,disabled:!0,inputValue:{amount:e.amount,transaction_code:e.transaction_code,bankId:e.bankId,currency:e.currency,isChange:e.isChange||e.amount<0}})}))})}),Ms=v.a.div(Wa||(Wa=Object(m.a)(["\n    flex-direction: row;\n    flex: 0 0 30px;\n    justify-content: space-between;\n"]))),Vs=v.a.div(Xa||(Xa=Object(m.a)(["\n    flex-direction: row;\n    gap: 5px;\n"]))),qs=function(e){var n=e.onPaymentInfoChange,t=e.onPaymentAdd,r=e.onPaymentDelete,a=e.selectedPaymentMethod,c=e.onPaymentMethodSelect,o=e.paymentInfo,i=e.paymentMethods,s=e.showTitle,u=void 0===s||s;return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(Ms,{children:[Object(K.jsx)("h3",{children:u?"Datos de pago":""}),Object(K.jsxs)(Vs,{children:[Object(K.jsx)(Hs.Selector,{paymentList:i,onChange:function(e){return c({id:e.target.value,name:i.find((function(n){return n.id===Number(e.target.value)})).name})}}),Object(K.jsx)(an,{onClick:function(){return t(a)},background:k,color:"white",children:"+"}),Object(K.jsx)(an,{onClick:function(){return t(a,!0)},background:F,color:"white",children:"+"})]})]}),o&&o.length>0&&o.map((function(e){return p.a.createElement(Hs[e.name],{key:e.id,onChange:function(t,r){return n(t,r,e.id)},onDelete:function(){return r(e.id)},inputValue:{amount:e.amount,transaction_code:e.transaction_code,bankId:e.bankId,currency:e.currency,isChange:e.isChange}})}))]})},As=function(e){var n=e.paymentTotal,t=void 0===n?{}:n,r=e.twoRowsOnly;return Object(K.jsxs)(ts,{style:{borderLeft:"1px solid black"},children:[Object(K.jsx)("legend",{children:"Total pago"}),Object.keys(t).map((function(e,n){var a=t[e],c="Total"===e?{style:{color:"green"}}:{};return r&&Object.keys(t).length>2?Object(K.jsxs)("div",{style:{flexDirection:"row"},children:[Object(K.jsxs)("label",{children:[e,": "]}),Object(K.jsx)("label",Object(J.a)(Object(J.a)({},c),{},{children:a.toLocaleString()}))]},n):Object(K.jsxs)(p.a.Fragment,{children:[Object(K.jsxs)("label",{children:[e,": "]}),Object(K.jsx)("label",Object(J.a)(Object(J.a)({},c),{},{children:a.toLocaleString()}))]},n)}))]})},Ls=function(){var e=Object(Gn.a)($n.a.mark((function e(n,t){var r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.post("".concat("/api/payments","/sale/").concat(t),{paymentInfo:n,saleId:t}).catch((function(e){return e.response}));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Bs=function(){var e=Object(b.useMemo)((function(){return{message:null,actions:[],state:null,callback:null,show:!1}}),[]),n=Object(b.useState)(e),t=Object(Jn.a)(n,2);return{confirmState:t[0],setConfirmState:t[1],INITIAL_CONFIRM_STATE:e}},Us="/api/payment-methods",Ys=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=t?"?page=".concat(t):"?",c=r?"&filter=".concat(r):"",e.next=5,tr.a.get(Us+a+c).catch((function(e){return e.response}));case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function $s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.map((function(e){var n=e.name;return"Cash"===e.name?n="Efectivo":"Transfer"===e.name&&(n="Transferencia"),Object(J.a)(Object(J.a)({},e),{},{display_name:n})}));return n.sort(),n}var Gs=function(e){var n=e.loadOnMount,t=void 0!==n&&n,r=Object(b.useState)(!1),a=Object(Jn.a)(r,2),c=a[0],o=a[1],i=Object(b.useState)(null),s=Object(Jn.a)(i,2),u=s[0],l=s[1],d=Object(b.useState)([]),j=Object(Jn.a)(d,2),p=j[0],h=j[1],f=Object(b.useState)(null),x=Object(Jn.a)(f,2),O=x[0],m=x[1];Object(b.useEffect)((function(){t&&v()}),[t]);var v=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n,t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=7;break}return o(!0),e.next=4,Ys({});case 4:(n=e.sent).error?l(n.error):(t=$s(n.records),h(t),t.length&&m({id:t[0].id,name:t[0].name})),o(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{paymentMethodsLoading:c,setPaymentMethodsLoading:o,paymentMethods:p,selectedPaymentMethod:O,setSelectedPaymentMethod:m,loadPaymentMethods:v,error:u}};function Js(e,n){var t=Object(b.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(r){return console.log(r),n}})),r=Object(Jn.a)(t,2),a=r[0],c=r[1];return[a,function(n){try{var t=n instanceof Function?n(a):n;c(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log(r)}}]}function Ks(e,n){return e.reduce((function(e,t){var r=t[n];return e[r]=e[r]||[],e[r].push(t),e}),{})}var Ws,Xs,Qs,Zs,eu,nu,tu,ru,au,cu,ou,iu,su,uu=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=bs(),r=t.currencyRates,a=Gs({loadOnMount:!0}),c=a.paymentMethods,o=a.selectedPaymentMethod,i=a.setSelectedPaymentMethod,s=Object(b.useState)({}),u=Object(Jn.a)(s,2),l=u[0],d=u[1],j=Js("paymentTotal",{}),p=Object(Jn.a)(j,2),h=p[0],f=p[1],x=Js("paymentInfo",[]),O=Object(Jn.a)(x,2),m=O[0],v=O[1],g=Object(b.useState)([]),w=Object(Jn.a)(g,2),y=w[0],S=w[1],C=Object(b.useCallback)((function(e){if(r){for(var n=Ks(e,"name"),t=0,a=Object.keys(n);t<a.length;t++){var c=a[t],o=n[c];n[c]=o.reduce((function(e,n){return n.currency&&"VES"===n.currency||!n.currency?e+=n.isChange?-Number(n.amount)||0:Number(n.amount)||0:n.currency&&"USD"===n.currency&&(e+=(n.isChange?-n.amount||0:n.amount||0)*(r.PAYMENT_VES.value||0)),e}),0)}var i=Object.keys(n).reduce((function(e,t){return e+n[t]}),0);return n.Total=i,n}}),[r]);Object(b.useEffect)((function(){if(e&&c.length>0){var t={id:y.length+(new Date).getTime(),payment_method_id:c.find((function(n){return n.name===e.name})).id,name:e.name,amount:null,currency:e.currency,isChange:!1};n?0===m.length&&v([t]):0===y.length&&S([t])}}),[e,y.length,c,n,m,v]),Object(b.useEffect)((function(){if(n){var e=C(m);f(e)}else{var t=C(y);d(t)}}),[y,n,m,C]);var k=function(e,t,r){(n?v:S)((n?m:y).map((function(n){return n.id===r&&(n[t]=e),n})))},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,name:null},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?m:y,a=n?v:S,c=r.length+(new Date).getTime(),o=[];"POS"===e.name?o=[].concat(Object(it.a)(r),[{id:c,payment_method_id:Number(e.id),name:e.name,amount:null,currency:"VES",isChange:t}]):"Cash"===e.name?o=[].concat(Object(it.a)(r),[{id:c,payment_method_id:e.id,name:e.name,amount:null,currency:"VES",isChange:t}]):"Transfer"===e.name?o=[].concat(Object(it.a)(r),[{id:c,payment_method_id:e.id,name:e.name,amount:null,currency:"VES",transaction_code:null,bankId:1,isChange:t}]):"Paypal"===e.name&&(o=[].concat(Object(it.a)(r),[{id:c,payment_method_id:e.id,name:e.name,amount:null,currency:"USD",code:null,isChange:t}])),a(o)},P=function(e){(n?v:S)((n?m:y).filter((function(n){return n.id!==e})))};return{paymentTotal:l,setPaymentTotal:d,persistedPaymentTotal:h,setPersistedPaymentTotal:f,paymentInfo:y,setPaymentInfo:S,persistedPaymentInfo:m,setPersistedPaymentInfo:v,onPaymentInfoChange:k,onPaymentAdd:E,onPaymentDelete:P,paymentMethods:c,selectedPaymentMethod:o,setSelectedPaymentMethod:i}},lu=function(e){var n=e.show,t=e.handleClose,r=e.backdrop,a=e.onSubmit,c=e.sale,o=bs(!1).currencyRates,i=Bs(),s=i.confirmState,u=i.setConfirmState,l=kc(),d=l.errors,j=l.handleErrors,b=uu({name:"POS",currency:"VES"}),p=b.paymentTotal,h=b.paymentInfo,f=b.onPaymentInfoChange,x=b.onPaymentAdd,O=b.onPaymentDelete,m=b.paymentMethods,v=b.selectedPaymentMethod,g=b.setSelectedPaymentMethod,w=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ls(h,c.id);case 2:(n=e.sent).error?j(n.error):a();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n,t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p.Total,t=Number((c.debt.current_amount*o.PAYMENT_VES.value).toFixed(2)),n>t?u(Object(J.a)(Object(J.a)({},s),{},{message:"El monto a pagar es MAYOR al de la deuda. \xbfDesea continuar?",callback:w})):w();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n&&Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(sc,{show:n,handleClose:t,backdrop:r,zindex:4,children:Object(K.jsxs)(et,{width:"500px",children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:t,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"Formulario de pago"})]}),Object(K.jsxs)(bc,{overflow:1,children:[Object(K.jsx)(qs,{showTitle:!1,onPaymentInfoChange:f,onPaymentAdd:x,onPaymentDelete:O,selectedPaymentMethod:v,onPaymentMethodSelect:g,paymentInfo:h,paymentMethods:m}),Object(K.jsx)("div",{style:{flexDirection:"row",justifyContent:"end"},children:Object(K.jsx)(As,{paymentTotal:p,twoRowsOnly:!0})})]}),Object(K.jsx)(pc,{children:Object(K.jsxs)(hc,{children:[d&&d.paymentInfo&&Object(K.jsx)(mc,{children:d.paymentInfo}),Object(K.jsx)(Oc,{color:k,children:Object(K.jsx)(an,{onClick:y,type:"submit",children:"Enviar"})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsx)(an,{children:"Cancelar"})})]})})]})}),s.show&&Object(K.jsx)(sc,{backdrop:!0,show:s.show,handleClose:function(){return u(Object(J.a)(Object(J.a)({},s),{},{show:!1}))},children:Object(K.jsx)(nt,{children:Object(K.jsx)(Lc,{additionalActions:s.actions,message:s.message,handleClose:function(){return u(Object(J.a)(Object(J.a)({},s),{},{show:!1}))},callback:s.callback})})})]})},du=function(e){var n=e.subtotal,t=void 0===n?"":n,r=e.debtTotal,a=void 0===r?"":r,c=e.invoiceTotal,o=void 0===c?"":c;return Object(K.jsxs)(ts,{children:[Object(K.jsx)("legend",{children:"Total factura"}),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("label",{children:"Subtotal: "}),Object(K.jsx)("label",{children:t.toLocaleString()})]}),a>0&&Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("label",{children:"Deuda: "}),Object(K.jsx)("label",{children:a.toLocaleString()})]}),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("label",{children:"Total: "}),Object(K.jsx)("label",{style:{color:"green"},children:o.toLocaleString()})]})]})},ju=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(b.useState)([]),t=Object(Jn.a)(n,2),r=t[0],a=t[1],c=Js("invoiceProducts",[]),o=Object(Jn.a)(c,2),i=o[0],s=o[1],u=Js("subtotal",0),l=Object(Jn.a)(u,2),d=l[0],j=l[1],p=Object(b.useState)(0),h=Object(Jn.a)(p,2),f=h[0],x=h[1],O=Js("saleTotal",0),m=Object(Jn.a)(O,2),v=m[0],g=m[1],w=Object(b.useState)(0),y=Object(Jn.a)(w,2),S=y[0],C=y[1];return Object(b.useEffect)((function(){var n=(e?i:r).reduce((function(e,n){return Number((e+(n.converted_price.PRICE_VES||0)*n.quantity).toFixed(2))}),0);e?(j(n),g(n)):(x(n),C(n))}),[r,e,i,g,j]),{invoiceProducts:r,setInvoiceProducts:a,persistedInvoiceProducts:i,setPersistedInvoiceProducts:s,subtotal:f,setSubtotal:x,persistedSubtotal:d,setPersistedSubtotal:j,saleTotal:S,setSaleTotal:C,persistedSaleTotal:v,setPersistedSaleTotal:g}},bu="/api/sales",pu=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=t?"?page=".concat(t):"?",c=r?"&filter=".concat(r):"",e.next=5,tr.a.get(bu+a+c).catch((function(e){return e.response}));case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),hu=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.get(bu+"/".concat(n)).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),fu=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.post(bu,n).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),xu=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.delete(bu+"/".concat(n)).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ou=function(e){var n=e.show,t=e.details,r=e.onClose,a=e.onPayment,c=void 0===a?function(){}:a,o=uu(),i=o.paymentInfo,s=o.setPaymentInfo,u=o.paymentTotal,l=ju(),d=l.invoiceProducts,j=l.setInvoiceProducts,p=l.subtotal,h=l.saleTotal,f=Object(b.useState)(!1),x=Object(Jn.a)(f,2),O=x[0],m=x[1],v=Object(b.useState)({}),g=Object(Jn.a)(v,2),w=g[0],y=g[1],S=kc(),C=S.errors,E=S.handleErrors,P=Object(b.useState)(!1),R=Object(Jn.a)(P,2),D=R[0],N=R[1],T=Bc(null),_=T.notification,z=T.showNotification;Object(b.useEffect)((function(){t&&(y(t),s(t.payment||[]),j(t.products||[]))}),[t]);var H=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z("success","El pago se ha realizado con \xe9xito"),m(!1),N(!0),e.next=5,hu(w.id);case 5:n=e.sent,console.log("sale details",n),n.error?E(n.error):(y(n[0]),s(n[0].payment),j(n[0].products),c()),N(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(w),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(sc,{backdrop:!0,show:n,handleClose:r,children:Object(K.jsxs)(et,{width:"800px",children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:r,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"Detalles de la venta"})]}),Object(K.jsx)(bc,{children:D?Object(K.jsx)(wc,{children:"Cargando..."}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(ms,{children:[Object(K.jsxs)(vs,{children:[Object(K.jsx)("legend",{children:"Cliente"}),Object(K.jsx)(Es,{name:w.client&&w.client.name,cedula:w.client&&w.client.cedula,phoneNumber:w.client&&w.client.phoneNumber})]}),Object(K.jsxs)(gs,{children:[Object(K.jsx)("legend",{children:"Pagos"}),Object(K.jsx)(Fs,{paymentInfo:i})]})]}),Object(K.jsx)(Os,{children:Object(K.jsx)(cs,{products:d})}),Object(K.jsxs)(ws,{children:[w.debt&&Object(K.jsxs)(ys,{children:[Object(K.jsx)("legend",{children:"Deuda"}),Object(K.jsx)(Ss,{children:Object(K.jsx)("label",{children:"Fecha:"})}),Object(K.jsx)(Cs,{children:Object(K.jsx)("strong",{children:w&&w.debt&&new Date(w.debt.createdAt).toLocaleString()})}),Object(K.jsx)(Ss,{children:Object(K.jsx)("label",{children:"Original:"})}),Object(K.jsx)(Cs,{children:Object(K.jsxs)("strong",{children:["$",w&&w.debt&&w.debt.original_amount.toFixed(2)]})}),Object(K.jsx)(Ss,{children:Object(K.jsx)("label",{children:"Actual:"})}),Object(K.jsxs)(Cs,{children:[Object(K.jsxs)("strong",{style:{color:"green"},children:["$",w&&w.debt&&w.debt.current_amount.toFixed(2)]}),"-",Object(K.jsx)("strong",{children:w&&w.debt&&w.debt.converted_amount.PAYMENT_VES.toFixed(2)+" Bs"})]}),Object(K.jsx)(Ss,{children:Object(K.jsx)("label",{children:"Estado:"})}),Object(K.jsx)(Cs,{children:Object(K.jsx)("strong",{children:w&&w.debt&&w.debt.paid?Object(K.jsx)("span",{style:{color:"green"},children:"Pagado"}):Object(K.jsx)("span",{style:{color:"red"},children:"No pagado"})})})]}),Object(K.jsx)(As,{twoRowsOnly:!0,paymentTotal:u}),Object(K.jsx)(du,{subtotal:p,invoiceTotal:h})]})]})}),Object(K.jsxs)(pc,{children:[C&&C[void 0]&&Object(K.jsx)(mc,{children:C[void 0]}),Object(K.jsxs)(hc,{children:[Object(K.jsx)(Oc,{color:k,children:w.debt&&0===w.debt.paid&&Object(K.jsxs)(an,{onClick:function(){return m(!0)},type:"submit",children:[Object(K.jsx)(yc.a,{size:24}),"Pagar"]})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsxs)(an,{onClick:r,children:[Object(K.jsx)(Sc.a,{size:24}),"Cancelar"]})})]})]})]})}),O&&Object(K.jsx)(lu,{show:O,backdrop:!0,handleClose:function(){return m(!1)},onSubmit:H,sale:w}),_&&Object(K.jsx)(Un,{type:_.type,children:_.text})]})},mu=function(e){var n=e.show,t=e.selectedDebts,r=e.client,a=e.onClose,c=e.onDebtSelect,o=Object(b.useState)(!1),i=Object(Jn.a)(o,2),s=i[0],u=i[1],l=Object(b.useState)({}),d=Object(Jn.a)(l,2),j=d[0],p=d[1];return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(sc,{backdrop:!0,show:!s&&n,handleClose:a,children:Object(K.jsxs)(et,{width:"500px",children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:a,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"Deudas de ".concat(r.name," - ").concat(Number(r.cedula).toLocaleString("es-VE"))})]}),Object(K.jsx)(bc,{overflow:1,children:r&&r.sale&&r.sale.length>0?Object(K.jsx)(hs,{children:Object(K.jsx)(fs,{children:Object(K.jsx)(xs,{onShowDetailsClick:function(e){u(!0),p(e)},data:r.sale,selectedRows:t,onDebtSelect:c})})}):"El cliente no posee deudas"})]})}),Object(K.jsx)(Ou,{show:s,onClose:function(){return u(!1)},details:j})]})},vu=function(){var e=function(e){var n=e.onSubmitSuccess,t=void 0===n?function(){}:n,r=Object(b.useState)(!1),a=Object(Jn.a)(r,2),c=a[0],o=a[1],i=Object(b.useState)({id:null,cedula:null,phoneNumber:null}),s=Object(Jn.a)(i,2),u=s[0],l=s[1],d=Object(b.useState)(null),j=Object(Jn.a)(d,2),p=j[0],h=j[1],f=Object(b.useState)([]),x=Object(Jn.a)(f,2),O=x[0],m=x[1],v=Object(b.useState)(0),g=Object(Jn.a)(v,2),w=g[0],y=g[1],S=ju(),C=S.invoiceProducts,k=S.setInvoiceProducts,E=S.subtotal,P=S.setSubtotal,R=S.saleTotal,D=S.setSaleTotal,N=uu({name:"POS",currency:"VES"}),T=N.paymentMethods,_=N.selectedPaymentMethod,z=N.setSelectedPaymentMethod,H=N.paymentTotal,I=N.setPaymentTotal,F=N.paymentInfo,M=N.setPaymentInfo,V=N.onPaymentInfoChange,q=N.onPaymentAdd,A=N.onPaymentDelete,L=Bs(),B=L.confirmState,U=L.setConfirmState,Y=L.INITIAL_CONFIRM_STATE,$=Bc(),G=$.notification,K=$.showNotification;Object(b.useEffect)((function(){var e=O.reduce((function(e,n){return e+(n.debt.converted_amount.PAYMENT_VES||0)}),0);y(e),D(E+e)}),[O,y,D,E]),Object(b.useEffect)((function(){D(E+w)}),[E,D,w]),Object(b.useEffect)((function(){if(1===F.length&&"POS"===F[0].name){var e=F[0];e.amount=R,M([e])}}),[R]);var W=function(){return C.length?!(!F.length||H.Total<0)||(K("error","Informaci\xf3n de pago es incorrecta"),!1):(K("error","Tabla de productos vac\xeda"),!1)},X=function(){var e=[{name:"Guardar Deuda",color:"orange",callback:function(){return Z(!0)}}],n="";H.Total<R?n="El pago total es MENOR al total de la factura. \xbfDeseas continuar sin guardar la deuda?":H.Total>R&&(n="El pago total es MAYOR al total de la factura. \xbfDeseas continuar sin guardar la deuda?"),H.Total!==R?U(Object(J.a)(Object(J.a)({},B),{},{actions:e,message:n,show:!0,callback:function(){return Z()}})):Z()},Q=function(){var e=Object(Gn.a)($n.a.mark((function e(n){return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),W()&&(u.id?X():U(Object(J.a)(Object(J.a)({},B),{},{message:"No ha seleccionado un cliente, \xbfest\xe1 seguro que desea continuar?",show:!0,callback:X})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n,r,a,i=arguments;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>0&&void 0!==i[0]&&i[0],r=i.length>1&&void 0!==i[1]&&i[1],c){e.next=15;break}return e.prev=3,o(!0),e.next=7,fu({clientId:u.id,products:C.map((function(e){return{id:e.id,quantity:e.quantity}})),paymentInfo:r?[]:F,status:1,saveAsDebt:n});case 7:a=e.sent,o(!1),200===a.status?(K("success","La venta se ha procesado exitosamente."),ee(),t()):K("error",a.data.error.message||a.data.error[0].message||JSON.stringify(a.data.error)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){l({id:null,cedula:null,phoneNumber:null}),m([]),h(null),k([]),P(0),y(0),D(0),I(0),M([]),U(Y)};return{loading:c,paymentMethods:T,selectedPaymentMethod:_,setSelectedPaymentMethod:z,selectedClient:u,setSelectedClient:l,selectedProduct:p,selectedDebts:O,invoiceProducts:C,setInvoiceProducts:k,subtotal:E,saleTotal:R,debtTotal:w,paymentTotal:H,paymentInfo:F,setPaymentInfo:M,onProductSelect:function(e){h(e)},onProductSubmit:function(e){var n=C.filter((function(n){return n.id!==e.id}));k([e].concat(Object(it.a)(n))),h(null)},onProductDelete:function(e){var n=C.filter((function(n){return n.id!==e.id}));h(null),k(Object(it.a)(n))},onClientSelect:function(e,n){"clear"===n?(l({id:null,cedula:null,phoneNumber:null}),m([])):"select-option"===n&&l(Object(J.a)({id:null,cedula:null,phoneNumber:null},e))},onDebtSelect:function(e){m(e)},onPaymentAdd:q,onPaymentInfoChange:V,onPaymentDelete:A,onSaleSubmit:Q,onSaveDebtHandler:function(){W()&&U(Object(J.a)(Object(J.a)({},B),{},{message:"\xbfEst\xe1 seguro que desea guardar la venta como una DEUDA?",show:!0,callback:function(){return Z(!0,!0)}}))},resetFields:ee,notification:G,showNotification:K,confirmState:B,onConfirmClose:function(){U(Y)}}}({onSubmitSuccess:function(){B.current.focus()}}),n=e.loading,t=e.paymentMethods,r=e.selectedPaymentMethod,a=e.setSelectedPaymentMethod,c=e.selectedClient,o=e.selectedProduct,i=e.selectedDebts,s=e.invoiceProducts,u=e.subtotal,l=e.saleTotal,d=e.debtTotal,j=e.paymentTotal,p=e.paymentInfo,h=e.onProductSubmit,f=e.onProductSelect,x=e.onProductDelete,O=e.onClientSelect,m=e.onPaymentAdd,v=e.onPaymentInfoChange,g=e.onPaymentDelete,w=e.onSaleSubmit,y=e.onSaveDebtHandler,S=e.notification,C=e.showNotification,E=e.resetFields,P=e.confirmState,D=e.onConfirmClose;console.log(p);var N=Object(b.useState)(!1),T=Object(Jn.a)(N,2),_=T[0],z=T[1],H=Object(b.useState)(""),I=Object(Jn.a)(H,2),F=I[0],M=I[1],V=Object(b.useState)(!1),q=Object(Jn.a)(V,2),A=q[0],L=q[1],B=Object(b.useRef)(null),U=Object(b.useRef)(null),Y=Object(b.useRef)(null),$=Object(b.useRef)(null);return Object(b.useEffect)((function(){var e=function(e){e.ctrlKey&&13===e.keyCode&&w(e)};return document.body.addEventListener("keyup",e),function(){document.body.removeEventListener("keyup",e)}})),Object(K.jsxs)(Kn,{children:[Object(K.jsxs)(Wn,{children:[Object(K.jsx)(Xn,{children:Object(K.jsxs)(Bi,{children:[Object(K.jsxs)(ns,{children:[Object(K.jsx)(Oc,{color:k,children:Object(K.jsx)(an,{loading:n,onClick:w,children:"Enviar"})}),Object(K.jsx)(Oc,{color:R,children:Object(K.jsx)(an,{loading:n,onClick:y,children:"Guardar Deuda"})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsx)(an,{onClick:E,children:"Reset"})})]}),Object(K.jsxs)(Ui,{children:[Object(K.jsxs)($i,{children:[Object(K.jsx)("h3",{children:"Datos del cliente"}),Object(K.jsx)(rs,{innerRef:U,value:c,onSelect:O,onCreate:function(e){L(!0),M(e)}}),Object(K.jsxs)(fc,{children:[Object(K.jsx)(Ki,{children:Object(K.jsx)(nn,{value:c.cedula||"",innerRef:Y,placeholder:"C\xe9dula",thousandSeparator:".",decimalSeparator:",",disabled:!0,errorborder:c&&c.sale&&c.sale.length>0,as:dr.a})}),Object(K.jsx)(Wi,{children:Object(K.jsx)(nn,{value:c.phoneNumber||"",innerRef:$,placeholder:"Tel\xe9fono",disabled:!0,format:"( #### ) - ### - ####",errorborder:c&&c.sale&&c.sale.length>0,as:dr.a})})]}),c&&c.sale&&c.sale.length>0&&Object(K.jsx)("div",{children:Object(K.jsx)(an,{onClick:function(){return z(!0)},background:"red",color:"white",children:"Ver Deudas"})})]}),Object(K.jsx)(Gi,{children:Object(K.jsx)(qs,{paymentInfo:p,paymentMethods:t||[],selectedPaymentMethod:r,onPaymentInfoChange:v,onPaymentAdd:m,onPaymentDelete:g,onPaymentMethodSelect:a})})]}),Object(K.jsx)(Xi,{children:Object(K.jsxs)(Yi,{children:[Object(K.jsx)(Qi,{children:Object(K.jsx)(ps,{productToEdit:o,productSearchRef:B,onSubmit:h})}),Object(K.jsx)(Zi,{children:Object(K.jsx)(cs,{onProductSelect:f,selectedRows:o,products:s,onDeleteRow:function(e){x(e),B.current.focus()},maxHeight:"2048px"})}),Object(K.jsx)(es,{children:Object(K.jsxs)(Ji,{children:[Object(K.jsx)(du,{subtotal:u,debtTotal:d,invoiceTotal:l}),Object(K.jsx)(As,{twoRowsOnly:!0,paymentTotal:j})]})})]})})]})}),Object(K.jsx)(ot,{onClose:function(){}})]}),Object(K.jsx)(mu,{show:_,client:c,onClose:function(){return z(!1)},selectedDebts:i}),Object(K.jsx)(sc,{backdrop:!0,show:P.show,handleClose:D,children:Object(K.jsx)(nt,{children:Object(K.jsx)(Lc,{additionalActions:P.actions,message:P.message,handleClose:D,callback:P.callback})})}),Object(K.jsx)(sc,{backdrop:!0,show:A,handleClose:D,children:Object(K.jsx)(et,{children:Object(K.jsx)(_c,{onSubmit:function(e,n){C("success",e),L(!1),U.current.focus()},action:"create",handleClose:function(){return L(!1)},client:isNaN(Number(F))?{name:F}:{cedula:F},autoFocus:isNaN(Number(F))?"cedula":"name"})})}),S&&Object(K.jsx)(Un,{type:S.type,children:S.text})]})},gu=[{Header:"ID",accessor:"id"},{Header:"Moneda",accessor:"currency"},{Header:"Valor en bol\xedvares",accessor:"value",Cell:function(e){var n=e.value;return n?n.toLocaleString():""}},{Header:"Redondeo",accessor:"rounding",Cell:function(e){var n=e.value;return n?n.toLocaleString():"Sin redondeo"}}],wu="/api/currencyRates",yu=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o,i;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=t?"?page=".concat(t):"?",c=r?"&filter=".concat(r):"",e.next=5,tr.a.get(wu+a+c).catch((function(e){return e.response}));case 5:if(!(o=e.sent).data){e.next=9;break}return i=Object.entries(o.data).reduce((function(e,n){return[{id:n[1].id,currency:n[0],value:n[1].value,rounding:n[1].rounding}].concat(Object(it.a)(e))}),[]),e.abrupt("return",i);case 9:return e.abrupt("return",o.data);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Su=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.post(wu,n).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Cu=function(){var e=Object(Gn.a)($n.a.mark((function e(n,t){var r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.patch(wu+"/".concat(n),t).catch((function(e){return e.response}));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ku=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.delete(wu+"/".concat(n)).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Eu=function(e){var n=e.onCurrencySelect,t=e.selectedRows,r=e.shouldRefresh,a=e.showNotification,c=Object(b.useState)(""),o=Object(Jn.a)(c,2),i=o[0],s=o[1],u=Object(b.useMemo)((function(){return gu}),[]),l=lr({filter:i,fetching:yu}),d=l.data,j=l.loading,p=l.error,h=l.fetchResource;return Object(b.useEffect)((function(){r&&h()}),[r,h]),Object(b.useEffect)((function(){p&&a("error",p.message,3e3)}),[p,a]),Object(K.jsx)(Gt,{selectedRows:t,onRowSelect:n,loading:j,data:d,columns:u,onFilter:s,filterPlaceholder:"Buscar por nombre...",pageCount:1})},Pu=Dc.c().shape({currency:Dc.d(),value:Dc.b().required("El campo valor es requerido").typeError("El campo valor debe ser num\xe9rico"),rounding:Dc.b().nullable(!0)}),Ru=function(e){var n=e.currency,t=e.action,r=e.handleClose,a=e.onSubmit,c=Rc({initialState:Object(J.a)({currency:"",value:0,rounding:null},n),action:t,createResource:Su,editResource:Cu,schema:Pu,onSubmitSuccess:a}),o=c.loading,i=c.handleChange,s=c.handleNumericInput,u=c.handleSubmit,l=c.formData,d=c.printError,j=c.submitErrors,b=c.setSubmitErrors,p=c.hasError;return Object(K.jsxs)(uc,{onSubmit:function(e){e.preventDefault(),"create"===t&&""===l.currency?b(Object(J.a)(Object(J.a)({},j),{},{currency:"Debe proveer el nombre de la moneda"})):u(e)},children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:r,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"create"===t?"Crear moneda":"Editar moneda"})]}),Object(K.jsxs)(bc,{children:["create"===t&&Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onChange:i,placeholder:"Nombre",name:"currency",value:l.currency,autoFocus:!0,capitalize:!0,errorborder:p("currency")}),d("currency")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onValueChange:function(e){var n=e.floatValue;return s(n,"value")},placeholder:"Valor",name:"value",value:l.value,thousandSeparator:".",decimalSeparator:",",as:dr.a,errorborder:p("value"),autoFocus:"edit"===t}),d("value")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onValueChange:function(e){var n=e.floatValue;return s(n,"rounding")},placeholder:"Redondeo",name:"rounding",value:l.rounding,thousandSeparator:".",decimalSeparator:",",as:dr.a,errorborder:p("rounding")}),d("rounding")]})]}),Object(K.jsxs)(pc,{children:[Object(K.jsx)(vc,{children:d("undefined")}),Object(K.jsxs)(hc,{children:[Object(K.jsx)(Oc,{color:k,children:Object(K.jsxs)(an,{loading:o,type:"submit",children:[Object(K.jsx)(yc.a,{size:24}),"Enviar"]})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsxs)(an,{onClick:r,children:[Object(K.jsx)(Sc.a,{size:24}),"Cancelar"]})})]})]})]})},Du=function(){var e=Object(b.useState)(null),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(null),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Bc(null),u=s.notification,l=s.showNotification,d=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ku(o.id);case 2:(n=e.sent).error?l("error",n.error.message):l("success","Se ha eliminado con \xe9xito"),r("refresh"),i(null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(Kn,{children:[Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Qn,{children:Object(K.jsx)(cc,{onCreate:function(){return r("create")},onEdit:function(){return r("edit")},onDelete:function(){return r("delete")},recordSelected:o})}),Object(K.jsx)(Zn,{children:Object(K.jsx)(Eu,{selectedRows:o,onCurrencySelect:i,shouldRefresh:"refresh"===t,showNotification:l})}),Object(K.jsxs)(sc,{backdrop:!0,show:!(!t||"refresh"===t),handleClose:function(){return r(null)},children:[("create"===t||"edit"===t)&&Object(K.jsx)(et,{children:Object(K.jsx)(Ru,{onSubmit:function(e){l("success",e,2e3),r("refresh")},action:t,currency:"edit"===t&&o,handleClose:function(){return r(null)}})}),"delete"===t&&Object(K.jsx)(nt,{children:Object(K.jsx)(Lc,{handleClose:function(){return r(null)},callback:d})}),"delete"===t&&Object(K.jsx)(nt,{})]})]}),u&&Object(K.jsx)(Un,{type:u.type,children:u.text})]})},Nu=[{Header:"ID",accessor:"id"},{Header:"Cliente",accessor:function(e){return e.client?Object(K.jsxs)("div",{children:[Object(K.jsx)("span",{children:e.client.name?e.client.name:""}),Object(K.jsx)("span",{children:e.client.cedula?Number(e.client.cedula).toLocaleString():""})]}):"An\xf3nimo"}},{Header:"Total",accessor:"converted_amount.PAYMENT_VES",Cell:function(e){var n=e.value;return n?n.toLocaleString():n}},{Header:"Fecha",accessor:"createdAt",Cell:function(e){return br(e.value)}},{Header:"Estado",accessor:function(e){return 0===e.status?Object(K.jsx)("span",{style:{color:"red"},children:"Anulada"}):Object(K.jsx)("span",{style:{color:"green"},children:"Confirmada"})}}],Tu=function(e){var n=e.onSaleSelect,t=e.selectedRows,r=e.shouldRefresh,a=e.onError,c=Object(b.useMemo)((function(){return Nu}),[]),o=Object(b.useState)(""),i=Object(Jn.a)(o,2),s=i[0],u=i[1],l=Object(b.useState)(1),d=Object(Jn.a)(l,2),j=d[0],p=d[1],h=lr({page:j,filter:s,fetching:pu}),f=h.data,x=h.loading,O=h.error,m=h.fetchResource;return Object(b.useEffect)((function(){r&&m()}),[r,m]),Object(b.useEffect)((function(){O&&a(O.message)}),[O,a]),Object(K.jsx)(Gt,{loading:x,data:f.records,onRowSelect:n,selectedRows:t,columns:c,filterPlaceholder:"Buscar por id, cliente, producto, fecha, COD transferencia...",filter:s,onFilter:u,onPaginate:p,pageCount:f.pageCount,capitalize:[1]})},_u=t(539),zu=function(){var e=Object(b.useState)([]),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(!1),c=Object(Jn.a)(a,2),o=c[0],i=c[1];return Object(b.useEffect)((function(){(function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,Oi();case 3:n=e.sent,i(!1),r([n.chart_data]||!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(K.jsxs)(er,{children:[Object(K.jsxs)(er.Header,{children:[Object(K.jsx)("h2",{children:"Total ventas diarias"}),Object(K.jsx)("small",{children:"\xdaltimas 2 semanas"})]}),Object(K.jsxs)(er.Body,{children:[o&&"Cargando...",t.length>0&&!o&&Object(K.jsx)("div",{style:{height:"200px"},children:Object(K.jsx)(fi.a,{data:t,margin:{top:10,right:20,bottom:30,left:40},xScale:{type:"point"},yScale:{type:"linear",min:0,stacked:!1},axisTop:null,axisRight:null,pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,tooltip:function(e){var n=e.point;return Object(K.jsxs)("div",{style:{placeItems:"center",background:n.borderColor,padding:"5px"},children:[Object(K.jsx)("span",{children:n.data.x}),Object(K.jsxs)("span",{children:["$",n.data.y]})]})}})})]})]})},Hu=function(){var e=Object(b.useState)(),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(null),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Bc(),u=s.notification,l=s.showNotification,d=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xu(t.id);case 2:(n=e.sent).error?l("error",n.error.message):(i("refresh"),r(null));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(Kn,{children:[Object(K.jsxs)(Wn,{children:[Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Qn,{children:Object(K.jsx)(cc,{deleteText:"Anular",recordSelected:t,onDelete:function(){return i("delete")},children:Object(K.jsx)("div",{children:Object(K.jsxs)(an,{onClick:function(){return i("view")},background:k,color:"white",disabled:!t,children:[Object(K.jsx)(_u.a,{size:"24"}),"Ver Detalles"]})})})}),Object(K.jsx)(Zn,{children:Object(K.jsx)(Tu,{onSaleSelect:r,selectedRows:t,shouldRefresh:"refresh"===o,onError:function(){}})}),"view"===o&&Object(K.jsx)(Ou,{show:"view"===o,details:t,onClose:function(){return i(null)},onPayment:function(){return i("refresh")}}),Object(K.jsx)(sc,{backdrop:!0,show:"delete"===o,handleClose:function(){return i(null)},children:Object(K.jsx)(nt,{children:Object(K.jsx)(Lc,{handleClose:function(){return i(null)},callback:d})})})]}),Object(K.jsx)(ot,{children:Object(K.jsx)(zu,{})})]}),u&&Object(K.jsx)(Un,{type:u.type,children:u.message})]})},Iu="/api/debts",Fu=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t,r,a,c,o;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.filter,a=t?"?page=".concat(t):"?",c=r?"&filter=".concat(r):"",e.next=5,tr.a.get(Iu+a+c).catch((function(e){return e.response}));case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Mu=function(e){var n=e.selectedRows,t=e.onDebtSelect,r=void 0===t?function(){}:t,a=e.shouldRefresh,c=void 0!==a&&a,o=(e.onShowDetailsClick,e.onError),i=void 0===o?function(){}:o,s=Object(b.useMemo)((function(){return[{Header:"ID",accessor:"id"},{Header:"Cliente",accessor:"sale.client.name"},{Header:"Deuda Bs",accessor:"converted_amount.PAYMENT_VES",Cell:function(e){return e.value}},{Header:"Creado",accessor:"createdAt",Cell:function(e){return br(e.value)}},{Header:"Pagado",accessor:"paid_date",Cell:function(e){var n=e.value;return n?br(n):"No pagado"}}]}),[]),u=Object(b.useState)(1),l=Object(Jn.a)(u,2),d=l[0],j=l[1],p=Object(b.useState)(""),h=Object(Jn.a)(p,2),f=h[0],x=h[1],O=lr({page:d,filter:f,fetching:Fu}),m=O.data,v=O.loading,g=O.error,w=O.fetchResource;return Object(b.useEffect)((function(){c&&w()}),[c,w]),Object(b.useEffect)((function(){g&&i(g)}),[g,i]),Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(Gt,{loading:v,data:m.records,selectedRows:n,onRowSelect:r,columns:s,onPaginate:j,onFilter:x,filterPlaceholder:"Buscar por nombre, cedula o tel\xe9fono del cliente...",pageCount:m.pageCount})})},Vu=function(){var e=Object(b.useState)(!1),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(null),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Object(b.useState)(null),u=Object(Jn.a)(s,2),l=u[0],d=u[1];return Object(K.jsxs)(Kn,{children:[Object(K.jsx)(Wn,{children:Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Qn,{children:Object(K.jsx)(cc,{recordSelected:o,children:Object(K.jsx)("div",{children:Object(K.jsxs)(an,{onClick:function(){return r(!0)},background:k,color:"white",disabled:!o,children:[Object(K.jsx)(_u.a,{size:"24"}),"Ver Detalles"]})})})}),Object(K.jsx)(Zn,{children:Object(K.jsx)(Mu,{onShowDetailsClick:function(e){i(e),r(!0)},selectedRows:o,onDebtSelect:i,shouldRefresh:"refresh"===l,onError:function(){}})})]})}),t&&Object(K.jsx)(Ou,{show:t,details:o&&o.sale,onClose:function(){return r(!1)},onPayment:function(){d("refresh"),i(null)}})]})},qu=v.a.div(Ws||(Ws=Object(m.a)(["\n    flex: 1;\n    padding: 10px;\n    gap: 1%;\n\n    @media (min-width: ",") {\n        flex-direction: row;\n    }\n"])),S),Au=v.a.div(Xs||(Xs=Object(m.a)(["\n    flex: 0 1 50px;\n    justify-content: center;\n    align-items: center;\n"]))),Lu=v.a.div(Qs||(Qs=Object(m.a)(["\n    flex-direction: row;\n    border-bottom: 1px solid black;\n    padding-bottom: 10px;\n    justify-content: center;\n    align-items: center;\n    gap: 5px;\n"]))),Bu=v.a.div(Zs||(Zs=Object(m.a)(["\n    gap: 10px;\n\n    @media (min-width: ",") {\n        flex: 1 1 65%;\n    }\n"])),w),Uu=v.a.div(eu||(eu=Object(m.a)(["\n    gap: 20px;\n\n    @media (min-width: ",") {\n        flex: 1 1 34%;\n    }\n"])),w),Yu=v.a.div(nu||(nu=Object(m.a)(["\n    flex-grow: 1;\n    background: white;\n    box-shadow: rgb(101 119 134 / 20%) 0px 0px 15px, rgb(101 119 134 / 15%) 0px 0px 3px 1px;\n    border-radius: 16px;\n"]))),$u=v.a.div(tu||(tu=Object(m.a)(["\n    flex: 0 0 50px;\n    justify-content: center;\n    background: ",";\n\n    padding-left: 20px;\n\n    border-top-left-radius: 16px;\n    border-top-right-radius: 16px;\n    border-bottom: 1px solid ",";\n\n    h2 {\n        margin: 0;\n    }\n"])),T,D),Gu=v.a.div(ru||(ru=Object(m.a)(["\n    border-bottom-left-radius: 16px;\n    border-bottom-right-radius: 16px;\n"]))),Ju=v.a.div(au||(au=Object(m.a)([""]))),Ku=v.a.div(cu||(cu=Object(m.a)(["\n    flex-direction: column;\n    gap: 10px;\n\n    @media (min-width: ",") {\n        flex-direction: row;\n        flex-wrap: wrap;\n    }\n"])),S),Wu=v.a.div(ou||(ou=Object(m.a)([""]))),Xu=(v.a.div(iu||(iu=Object(m.a)([""]))),v.a.div(su||(su=Object(m.a)([""])))),Qu=[{Header:"Producto",accessor:"product"},{Header:"Cantidad",accessor:"quantity"},{Header:"Bruto $",accessor:"rawProfitUSD",Cell:function(e){var n=e.value;return n?"$"+n.toFixed(2):0},Footer:function(e){return"$"+e.data.reduce((function(e,n){return e+n.rawProfitUSD}),0).toFixed(2)}},{Header:"Neto $",accessor:"netProfitUSD",Cell:function(e){var n=e.value;return n?"$"+n.toFixed(4):0},Footer:function(e){return"$"+e.data.reduce((function(e,n){return e+n.netProfitUSD}),0).toFixed(2)}},{Header:"Bruto Bs",accessor:"rawProfitVES",Cell:function(e){var n=e.value;return n?n.toFixed(2)+" Bs":0},Footer:function(e){return e.data.reduce((function(e,n){return e+n.rawProfitVES}),0).toFixed(2)+" Bs"}},{Header:"Neto Bs",accessor:"netProfitVES",Cell:function(e){var n=e.value;return n?n.toFixed(2)+" Bs":0},Footer:function(e){return e.data.reduce((function(e,n){return e+n.netProfitVES}),0).toFixed(2)+" Bs"}}],Zu=function(e){var n=e.data,t=e.maxHeight,r=Object(b.useMemo)((function(){return Qu}),[]),a=Object(b.useState)([]),c=Object(Jn.a)(a,2),o=c[0],i=c[1];return Object(K.jsx)(Gt,{data:o.length?o:n,columns:r,onFilter:function(e){console.log(e);var t=n.filter((function(n){return n.product.toLowerCase().includes(e.toLowerCase())}));i(t)},filterPlaceholder:"Buscar...",filterHeight:"30px",maxHeight:t,capitalize:[0],showFooter:!0})},el=[{Header:"M\xe9todo",accessor:"name"},{Header:"Total",accessor:"amount",Cell:function(e){var n=e.value;return n?n.toFixed(2):0}},{Header:"Moneda",accessor:"currency"}],nl=function(e){var n=e.data,t=e.maxHeight,r=Object(b.useMemo)((function(){return el}),[]);return Object(K.jsx)(Gt,{data:n,columns:r,maxHeight:t})},tl=[{Header:"ID",accessor:"saleId"},{Header:"Nombre",accessor:"name"},{Header:"Original",accessor:"original_amount",Cell:function(e){var n=e.value;return n?n.toFixed(2):0}},{Header:"Actual",accessor:"current_amount",Cell:function(e){var n=e.value;return n?n.toFixed(2):0}},{Header:"Creada",accessor:"createdAt",Cell:function(e){return br(e.value)}},{Header:"Pagado",accessor:"paid_date",Cell:function(e){var n=e.value;return n?br(n):"No pagado"}}],rl=function(e){var n=e.data,t=e.maxHeight,r=Object(b.useMemo)((function(){return tl}),[]);return Object(K.jsx)(Gt,{data:n,columns:r,maxHeight:t})},al=[{Header:"ID",accessor:"id"},{Header:"Cliente",accessor:"name"},{Header:"Pagado",accessor:function(e){return"VES"===e.currency?e.amount_VES+" Bs":"$"+e.amount_USD}},{Header:"Fecha",accessor:"createdAt",Cell:function(e){return br(e.value)},Footer:function(e){var n=e.data,t=n.reduce((function(e,n){return e+n.amount_USD}),0),r=n.reduce((function(e,n){return e+n.amount_VES}),0);return Object(K.jsxs)("span",{children:["USD: ",t.toFixed(2)," - VES: ",r.toFixed(2)]})}}],cl=function(e){var n=e.data,t=e.maxHeight,r=Object(b.useMemo)((function(){return al}),[]);return Object(K.jsx)(Gt,{data:n,columns:r,maxHeight:t,showFooter:!0})},ol=t(298),il=t(184),sl=function(){var e,n=Object(b.useState)({from:jr.DateTime.now().toISODate(),to:jr.DateTime.now().toISODate()}),t=Object(Jn.a)(n,2),r=t[0],a=t[1],c=Object(b.useState)(!1),o=Object(Jn.a)(c,2),i=o[0],s=o[1],u=Bc(),l=u.notification,d=u.showNotification,j=Object(b.useState)(),p=Object(Jn.a)(j,2),h=p[0],f=p[1],x=Object(b.useState)(),O=Object(Jn.a)(x,2),m=O[0],v=O[1],g=function(){var e=Object(Gn.a)($n.a.mark((function e(n){var t;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i){e.next=8;break}return s(!0),e.next=5,xi({from:r.from,to:r.to});case 5:t=e.sent,s(!1),t.error?d("error",t.error.message):(f(null),f(Object(J.a)({},t)));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(b.useEffect)((function(){if(h){var e=h.payment_report.reduce((function(e,n){return[].concat(Object(it.a)(e),[{id:n.name+" "+n.currency,label:n.name,value:n.usedCount}])}),[]);v((function(n){return Object(J.a)(Object(J.a)({},n),{},{payment:e})}));var n=h.top_sell_products.reduce((function(e,n){return[].concat(Object(it.a)(e),[{id:n.product,label:n.product,value:n.totalSold}])}),[]);v((function(e){return Object(J.a)(Object(J.a)({},e),{},{top_sell:n})}));var t=h.hourly_sales_report.reduce((function(e,n){return[].concat(Object(it.a)(e),[{id:n.hour,label:n.hour,value:n.total}])}),[]);v((function(e){return Object(J.a)(Object(J.a)({},e),{},{hourly_sales:t})}))}}),[h]),console.log(h),Object(K.jsxs)(Kn,{children:[Object(K.jsx)(Wn,{children:Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Au,{children:Object(K.jsxs)(Lu,{children:[Object(K.jsx)("span",{children:"Fecha: "}),Object(K.jsx)("input",{type:"date",onChange:function(e){return a(Object(J.a)(Object(J.a)({},r),{},{from:e.target.value}))},value:r.from}),Object(K.jsx)("input",{type:"date",onChange:function(e){return a(Object(J.a)(Object(J.a)({},r),{},{to:e.target.value}))},value:r.to}),Object(K.jsx)(an,{loading:i,onClick:g,background:"green",color:"white",children:"Enviar"})]})}),h&&Object(K.jsxs)(qu,{children:[Object(K.jsxs)(Bu,{children:[Object(K.jsx)(Ju,{children:Object(K.jsxs)(Yu,{children:[Object(K.jsx)($u,{children:Object(K.jsx)("h3",{children:"Ventas"})}),Object(K.jsx)(Gu,{children:Object(K.jsx)(tt,{children:h.sale_report.length>0&&Object(K.jsx)(Zu,{data:h.sale_report,maxHeight:"300px",onFilter:function(){}})})})]})}),Object(K.jsxs)(Ku,{children:[Object(K.jsxs)(Yu,{children:[Object(K.jsx)($u,{children:Object(K.jsx)("h3",{children:"Pagos"})}),Object(K.jsx)(Gu,{children:Object(K.jsx)(tt,{children:h.payment_report.length>0&&Object(K.jsx)(nl,{data:h.payment_report,maxHeight:"200px"})})})]}),Object(K.jsxs)(Yu,{children:[Object(K.jsx)($u,{children:Object(K.jsx)("h3",{children:"Deudas"})}),Object(K.jsx)(Gu,{children:Object(K.jsx)(tt,{children:h.debt_report.length>0&&Object(K.jsx)(rl,{data:h.debt_report,maxHeight:"200px"})})})]})]}),Object(K.jsx)("div",{children:Object(K.jsxs)(Yu,{children:[Object(K.jsx)($u,{children:Object(K.jsx)("h3",{children:"Pagos de deudas"})}),Object(K.jsx)(Gu,{children:Object(K.jsx)(tt,{children:h.debt_payment_report.length>0&&Object(K.jsx)(cl,{data:h.debt_payment_report,maxHeight:"200px"})})})]})}),Object(K.jsx)(Wu,{})]}),Object(K.jsxs)(Uu,{children:[Object(K.jsx)(Xu,{children:Object(K.jsxs)(Yu,{children:[Object(K.jsx)($u,{children:Object(K.jsx)("h3",{children:"Productos m\xe1s vendidos"})}),Object(K.jsx)(Gu,{children:m&&m.top_sell&&Object(K.jsx)("div",{style:{height:"200px"},children:Object(K.jsx)(il.a,{data:m.top_sell.reverse(),layout:"horizontal",margin:{left:150,right:10},padding:.7,enableGridX:!0,enableGridY:!0})})})]})}),Object(K.jsxs)(Yu,{children:[Object(K.jsx)($u,{children:Object(K.jsx)("h3",{children:"Horas m\xe1s activas"})}),Object(K.jsx)(Gu,{children:m&&m.hourly_sales&&Object(K.jsx)("div",{style:{height:"200px"},children:Object(K.jsx)(il.a,{data:m.hourly_sales,margin:{bottom:45,top:10},valueFormat:function(e){return e>0?e:""},axisBottom:{tickSize:10,tickPadding:5,tickRotation:0,legend:"Reloj 24 horas",legendPosition:"middle",legendOffset:35},enableGridX:!0})})})]}),Object(K.jsxs)(Yu,{children:[Object(K.jsx)($u,{children:Object(K.jsx)("h3",{children:"M\xe9todos de pago m\xe1s usados"})}),Object(K.jsx)(Gu,{children:m&&m.payment&&Object(K.jsx)("div",{style:{height:"200px"},children:Object(K.jsx)(ol.a,(e={data:m.payment,margin:{top:20,bottom:20,right:100},enableArcLinkLabels:!0},Object(Cc.a)(e,"margin",{top:30,right:20,bottom:20,left:20}),Object(Cc.a)(e,"innerRadius",.5),Object(Cc.a)(e,"padAngle",.7),Object(Cc.a)(e,"cornerRadius",3),Object(Cc.a)(e,"activeOuterRadiusOffset",8),Object(Cc.a)(e,"borderWidth",1),Object(Cc.a)(e,"borderColor",{from:"color",modifiers:[["darker",.2]]}),Object(Cc.a)(e,"arcLinkLabelsSkipAngle",10),Object(Cc.a)(e,"arcLinkLabelsTextColor","#333333"),Object(Cc.a)(e,"arcLinkLabelsThickness",2),Object(Cc.a)(e,"arcLinkLabelsColor",{from:"color"}),Object(Cc.a)(e,"arcLabelsSkipAngle",10),Object(Cc.a)(e,"arcLabelsTextColor",{from:"color",modifiers:[["darker",2]]}),e))})})]})]})]})]})}),l&&Object(K.jsx)(Un,{type:l.type,children:l.message})]})},ul=t(542),ll=[{Header:"Tipo",accessor:function(e){return $s([e.payment_method])[0].display_name+" "+e.currency}},{Header:"Total",accessor:"amount"}],dl="/api/money",jl=function(){var e=Object(Gn.a)($n.a.mark((function e(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.get(dl).catch((function(e){return e.response}));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bl=function(){var e=Object(Gn.a)($n.a.mark((function e(n,t){var r;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.a.patch(dl+"/".concat(n),t).catch((function(e){return e.response}));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),pl=function(e){var n=e.onMoneySelect,t=e.selectedRows,r=e.shouldRefresh,a=e.showNotification,c=Object(b.useMemo)((function(){return ll}),[]),o=lr({fetching:jl}),i=o.data,s=o.loading,u=o.error,l=o.fetchResource;return Object(b.useEffect)((function(){r&&l()}),[r,l]),console.log(i),Object(b.useEffect)((function(){u&&a("error",u.message,3e3)}),[u,a]),Object(K.jsx)(Gt,{data:i,loading:s,columns:c,capitalize:[0],onRowSelect:n,selectedRows:t})},hl=Dc.c().shape({payment_method_id:Dc.b().required(),amount:Dc.b().required("El campo total es requerido"),currency:Dc.d().required("El campo moneda es requerido")}),fl=t(540),xl=t(541),Ol=function(e){var n=e.action,t=e.money,r=e.handleClose,a=e.onSubmit,c=Rc({initialState:{id:null,payment_method_id:null,amount:0,currency:"VES",reasons:""},action:"edit",editResource:bl,schema:hl,onSubmitSuccess:a}),o=c.loading,i=c.handleSubmit,s=c.handleChange,u=c.handleNumericInput,l=c.formData,d=c.setFormData,j=c.printError,p=c.hasError;return Object(b.useEffect)((function(){t&&d(Object(J.a)(Object(J.a)({},l),{},{id:t.id,payment_method_id:t.payment_method.id,currency:t.currency}))}),[t]),console.log(l),Object(K.jsxs)(uc,{onSubmit:i,children:[Object(K.jsxs)(lc,{children:[Object(K.jsx)(dc,{children:Object(K.jsx)(an,{onClick:r,children:Object(K.jsx)(ct.a,{})})}),Object(K.jsx)(jc,{children:"".concat("add"===n?"Sumar":"Restar"," moneda")})]}),Object(K.jsxs)(bc,{children:[Object(K.jsxs)(xc,{children:[Object(K.jsx)(nn,{onValueChange:function(e){var n=e.value;return u(n,"amount")},placeholder:"Total",name:"amount",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,errorborder:p("amount"),autoFocus:!0,required:!0,as:dr.a}),j("amount")]}),Object(K.jsxs)(xc,{children:[Object(K.jsx)("textarea",{onChange:s,placeholder:"Razones",name:"reasons",errorborder:p("reasons"),required:!0,style:{resize:"none",height:"100px"}}),j("reasons")]})]}),Object(K.jsxs)(pc,{children:[Object(K.jsx)(vc,{children:j("undefined")}),Object(K.jsxs)(hc,{children:[Object(K.jsx)(Oc,{color:k,children:Object(K.jsxs)(an,{loading:o,type:"submit",children:[Object(K.jsx)(yc.a,{size:24}),"Enviar"]})}),Object(K.jsx)(Oc,{color:"red",children:Object(K.jsxs)(an,{onClick:r,children:[Object(K.jsx)(Sc.a,{size:24}),"Cancelar"]})})]})]})]})},ml=function(){var e=Object(b.useState)(null),n=Object(Jn.a)(e,2),t=n[0],r=n[1],a=Object(b.useState)(null),c=Object(Jn.a)(a,2),o=c[0],i=c[1],s=Bc(),u=s.notification,l=s.showNotification;return Object(K.jsxs)(Kn,{children:[Object(K.jsx)(Wn,{children:Object(K.jsxs)(Xn,{children:[Object(K.jsx)(Qn,{children:Object(K.jsxs)(cc,{recordSelected:t,children:[Object(K.jsx)(nc,{color:"orange",children:Object(K.jsxs)(an,{onClick:function(){return i("add")},disabled:!t,children:[Object(K.jsx)(fl.a,{size:"20px"}),"Sumar"]})}),Object(K.jsx)(nc,{color:"red",children:Object(K.jsxs)(an,{onClick:function(){return i("sub")},disabled:!t,children:[Object(K.jsx)(xl.a,{size:"20px"}),"Restar"]})})]})}),Object(K.jsx)(Zn,{children:Object(K.jsx)(pl,{onMoneySelect:r,showNotification:l,selectedRows:t,shouldRefresh:"refresh"===o})}),Object(K.jsx)(sc,{backdrop:!0,show:!(!o||"refresh"===o),handleClose:function(){return i(null)},children:("add"===o||"sub"===o)&&Object(K.jsx)(et,{children:Object(K.jsx)(Ol,{money:t,action:o,onSubmit:function(e){l("success",e,2e3),i("refresh")},handleClose:function(){return i(null)}})})})]})}),u&&Object(K.jsx)(ul.a,{type:u.type,children:u.text})]})},vl=function(){!function(){var e=localStorage.getItem("activeLocation")||"",n=Object(O.f)(),t=Object(O.g)().pathname;t!==e&&(localStorage.setItem("activeLocation",t),"/"===t&&n.push(e))}();var e=bs(!0),n=e.currencyRates,t=e.notification;return Object(K.jsxs)(dn,{children:[Object(K.jsx)(jn,{children:Object(K.jsx)(An,{})}),Object(K.jsxs)(bn,{children:[Object(K.jsx)(hn,{children:Object(K.jsxs)(O.c,{children:[Object(K.jsx)(O.a,{path:"/control-de-ventas",component:vu}),Object(K.jsx)(O.a,{path:"/inventario",children:"Hola"}),Object(K.jsx)(O.a,{path:"/reportes",component:sl}),Object(K.jsx)(O.a,{path:"/deudas",component:Vu}),Object(K.jsx)(O.a,{path:"/categorias",component:So}),Object(K.jsx)(O.a,{path:"/clientes",component:Uc}),Object(K.jsx)(O.a,{path:"/productos",component:yi}),Object(K.jsx)(O.a,{path:"/ventas",component:Hu}),Object(K.jsx)(O.a,{path:"/abastecimientos",component:Li}),Object(K.jsx)(O.a,{path:"/proveedores",component:bo}),Object(K.jsx)(O.a,{path:"/usuarios",component:no}),Object(K.jsx)(O.a,{path:"/tasas-de-cambio",component:Du}),Object(K.jsx)(O.a,{path:"/dinero",component:ml})]})}),Object(K.jsxs)(pn,{children:[Object(K.jsx)(sn,{children:Object(K.jsx)(ln,{children:localStorage.getItem("activeLocation")})}),Object(K.jsxs)(un,{children:[Object(K.jsx)("h3",{children:"Tasa del dolar:"}),Object(K.jsx)("span",{children:n&&n.PAYMENT_VES&&n.PAYMENT_VES.value.toLocaleString()+" Bs"||"No hay valor asignado"})]})]})]}),t&&Object(K.jsx)(Un,{type:t.type,children:t.text})]})};var gl=function(){return Object(K.jsx)(x.a,{children:Object(K.jsxs)(O.c,{children:[Object(K.jsx)(O.a,{exact:!0,path:"/login",component:on}),Object(K.jsx)(us,{children:Object(K.jsx)(O.a,{path:"/",component:vl})})]})})};t(476);tr.a.interceptors.response.use((function(e){return e}),(function(e){return e.response.data.error?e.response:500===e.response.status?{data:{error:{message:"El servidor se encuentra offline"}}}:{data:e.response.data}})),f.a.render(Object(K.jsx)(gl,{}),document.getElementById("root"))}},[[477,1,2]]]);
//# sourceMappingURL=main.779b484f.chunk.js.map